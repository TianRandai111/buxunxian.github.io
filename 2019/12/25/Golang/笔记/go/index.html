<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="golang,">










<meta name="description" content="Day-1 golang语言基础 Day-2 数据类型与操作符 Day-3 字符串处理包与函数 Day-4 数组、切片、map、package介绍 Day-5 结构体、方法 Day-6 接口、反射 Day-7 终端读写&amp;gt; Day-8 并发与Chan Day-1 golang语言基础 Day-1笔记 Day-1笔记Golang语言的特性 1.垃圾回收  a.内存自动回收，再也不需要开发人员管">
<meta name="keywords" content="golang">
<meta property="og:type" content="article">
<meta property="og:title" content="Go教程(LNH)">
<meta property="og:url" content="http://boke.buxunxian.com/2019/12/25/Golang/笔记/go/index.html">
<meta property="og:site_name" content="步荀仙的博客">
<meta property="og:description" content="Day-1 golang语言基础 Day-2 数据类型与操作符 Day-3 字符串处理包与函数 Day-4 数组、切片、map、package介绍 Day-5 结构体、方法 Day-6 接口、反射 Day-7 终端读写&amp;gt; Day-8 并发与Chan Day-1 golang语言基础 Day-1笔记 Day-1笔记Golang语言的特性 1.垃圾回收  a.内存自动回收，再也不需要开发人员管">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Image/Image-1.png?raw=true">
<meta property="og:image" content="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Image/Image-2.png?raw=true">
<meta property="og:image" content="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Image/Image-3.png?raw=true">
<meta property="og:updated_time" content="2019-12-25T07:28:16.453Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Go教程(LNH)">
<meta name="twitter:description" content="Day-1 golang语言基础 Day-2 数据类型与操作符 Day-3 字符串处理包与函数 Day-4 数组、切片、map、package介绍 Day-5 结构体、方法 Day-6 接口、反射 Day-7 终端读写&amp;gt; Day-8 并发与Chan Day-1 golang语言基础 Day-1笔记 Day-1笔记Golang语言的特性 1.垃圾回收  a.内存自动回收，再也不需要开发人员管">
<meta name="twitter:image" content="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Image/Image-1.png?raw=true">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://boke.buxunxian.com/2019/12/25/Golang/笔记/go/">





  <title>Go教程(LNH) | 步荀仙的博客</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">步荀仙的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://boke.buxunxian.com/2019/12/25/Golang/笔记/go/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="步荀仙">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/kyz.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="步荀仙的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Go教程(LNH)</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-12-25T15:06:34+08:00">
                2019-12-25
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/编程开发/" itemprop="url" rel="index">
                    <span itemprop="name">编程开发</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/编程开发/golang/" itemprop="url" rel="index">
                    <span itemprop="name">golang</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope="" itemtype="http://schema.org/Thing">
                  <a href="/categories/编程开发/golang/笔记/" itemprop="url" rel="index">
                    <span itemprop="name">笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/12/25/Golang/笔记/go/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/12/25/Golang/笔记/go/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2019/12/25/Golang/笔记/go/" class="leancloud_visitors" data-flag-title="Go教程(LNH)">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">阅读次数&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <a id="more"></a>
<p><a href="#1">Day-1 golang语言基础</a></p>
<p><a href="#2">Day-2 数据类型与操作符</a></p>
<p><a href="#3">Day-3 字符串处理包与函数</a></p>
<p><a href="#4">Day-4 数组、切片、map、package介绍</a></p>
<p><a href="#5">Day-5 结构体、方法</a></p>
<p><a href="#6">Day-6 接口、反射</a></p>
<p><a href="#7">Day-7 终端读写</a>&gt;</p>
<p><a href="#8">Day-8 并发与Chan</a></p>
<p><a href="#3333">Day-1 golang语言基础</a></p>
<p><a id="3333">Day-1笔记</a></p>
<h2 id="Day-1笔记"><a href="#Day-1笔记" class="headerlink" title="Day-1笔记"></a><a id="1">Day-1笔记</a></h2><h3 id="Golang语言的特性"><a href="#Golang语言的特性" class="headerlink" title="Golang语言的特性"></a>Golang语言的特性</h3><ul>
<li><p>1.垃圾回收</p>
<ul>
<li>a.内存自动回收，再也不需要开发人员管理内存</li>
<li>b.开发人员专注业务实现，降低了心智负担</li>
<li>c.只需要new分配内存，不需要释放</li>
</ul>
</li>
<li><p>2.天然并发</p>
<ul>
<li>a.从语言层面支持并发，非常简单</li>
<li>b.goroute，轻量级线程，创建成千上万个goroute成为可能</li>
<li>c.基于CSP(Communicating Sequential Process)模型实现</li>
</ul>
</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">go</span> fmt.Println(<span class="string">"hello"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<!--more-->
<p><strong>重点GOPATH：环境变量 GOPATH 的值可以是一个目录的路径，也可以包含多个目录路径，每个目录都代表 Go 语言的一个工作区（workspace）。这些工作区用于放置 Go 语言的源码文件（source file），以及安装（install）后的归档文件（archive file，也就是以”.a”为扩展名的文件）和可执行文件（executable file）。</strong></p>
<h3 id="高并发测试-一个测试"><a href="#高并发测试-一个测试" class="headerlink" title="高并发测试(一个测试)"></a>高并发测试(一个测试)</h3><ul>
<li>1.<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day1/LivingExample-1/LivingExample-1/testgo.go" target="_blank" rel="noopener">代码位置: </a></li>
</ul>
<h3 id="第一个golang程序"><a href="#第一个golang程序" class="headerlink" title="第一个golang程序"></a>第一个golang程序</h3><ul>
<li>1.<code>hello world</code><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day1/LivingExample-2/hello.go" target="_blank" rel="noopener">代码位置: </a></li>
<li><p>2.<code>channel</code></p>
<ul>
<li>a.管道.类似<code>unix/linux</code>中的<code>pipe</code></li>
<li>b.多个<code>goroute</code>之间通过<code>channel</code>进行通信</li>
<li><p>c.支持任何类型</p>
<blockquote>
<p>如果管道存放的值数量，多于定义的长度会造成死锁，导致程序无法运行</p>
</blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day1//LivingExample-3/pipe.go" target="_blank" rel="noopener">代码位置: Day1/LivingExample-3/pipe.goo</a></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pipe := <span class="built_in">make</span> (<span class="keyword">chan</span> <span class="keyword">int</span>,<span class="number">3</span>) <span class="comment">//初始化一个chan，类型为整形，长度为3。</span></span><br><span class="line">pipe &lt;- <span class="number">1</span> <span class="comment">//将1放到pipe里</span></span><br><span class="line">pipe &lt;- <span class="number">2</span> <span class="comment">//将2放到pipe里</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>3.返回值</p>
<ul>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day1/LivingExample-4/return.go" target="_blank" rel="noopener">代码位置: Day1/LivingExample-4/return.go</a></li>
</ul>
</li>
</ul>
<h3 id="包的概念"><a href="#包的概念" class="headerlink" title="包的概念"></a>包的概念</h3><ul>
<li>1.和<code>ptyhon</code>一样，把相同的代码放到一个目录，称之为包</li>
<li>2.包可以被其他包引用</li>
<li>3.<code>main</code>包是用来生成执行文件，每个程序只有一个<code>main</code>包</li>
<li>4.包的主要用途是提高代码的可复用性</li>
</ul>
<h3 id="包的实战"><a href="#包的实战" class="headerlink" title="包的实战"></a>包的实战</h3><ul>
<li>1.<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day1/LivingExample-5/main/main.go" target="_blank" rel="noopener">main代码位置: Day1/LivingExample-5/main/main.go</a></p>
</blockquote>
</li>
</ul>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day1/LivingExample-5/calc/add.go" target="_blank" rel="noopener">add模块代码位置: Day1/LivingExample-5/calc/add.go</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day1/LivingExample-5/calc/add.go" target="_blank" rel="noopener">sub模块代码位置: Day1/LivingExample-5/calc/add.go</a></p>
</blockquote>
<blockquote>
<p>编译二进制文件<code>go build -o bin/calc_test.exe  ./main/main.go</code></p>
</blockquote>
<ul>
<li>2.多进程的<code>goroute</code>运算测试，</li>
</ul>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day1/LivingExample-6/main/main.go" target="_blank" rel="noopener">main代码位置: Day1/LivingExample-6/main/main.go</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day1/LivingExample-6/goroute/add.go" target="_blank" rel="noopener">main代码位置: Day1/LivingExample-6/goroute/add.go</a></p>
</blockquote>
<p>作业：使用<code>fmt</code>,打印浮点数，二进制，十进制，十六进制</p>
<h2 id="Day-2笔记"><a href="#Day-2笔记" class="headerlink" title="Day-2笔记"></a><a id="2">Day-2笔记</a></h2><h3 id="第一部分：基本数据类型和操作符"><a href="#第一部分：基本数据类型和操作符" class="headerlink" title="第一部分：基本数据类型和操作符"></a>第一部分：基本数据类型和操作符</h3><ul>
<li><a href="#2-1">文件名&amp;关键字&amp;标识符</a></li>
<li><a href="#2-2">Go程序基本结构</a></li>
<li><a href="#2-6">函数的声明和注释</a></li>
<li><a href="#2-3">常量和变量</a></li>
<li><a href="#2-7">值类型和引用类型</a></li>
<li><a href="#2-4">数据类型和操作符</a></li>
<li><a href="#2-5">字符串类型</a></li>
</ul>
<h3 id="文件名-amp-关键字-amp-标识符"><a href="#文件名-amp-关键字-amp-标识符" class="headerlink" title="文件名&amp;关键字&amp;标识符"></a>文件名&amp;关键字&amp;标识符</h3><ul>
<li><p><a id="2-1">文件名&amp;关键字&amp;标识符</a></p>
<ul>
<li>1.所有<code>go</code>源码以<code>.go</code>结尾</li>
<li><p>2.标识符以字母或下划线开头，大小写铭感例如</p>
<p><code>a. boy</code>  <code>b. Boy</code> <code>c. a+b(错误实例)</code> <code>d. 0boy(错误实例)</code> <code>e._boy</code> <code>f. =_boy(错误实例)</code> <code>g. _</code></p>
</li>
<li>3._是特殊标识符，用来忽略结果</li>
<li><p>4.保留关键字</p>
<p>|||||<br>|-|-|-|-|<br>|break|default|func|interface|select|<br>|case|defer|go|map|struct|<br>|chan|else|goto|package|switch|<br>|const|fallthough|if|range|type|<br>|continue|for|import|return|var|</p>
</li>
</ul>
</li>
</ul>
<h3 id="Go程序基本结"><a href="#Go程序基本结" class="headerlink" title="Go程序基本结"></a>Go程序基本结</h3><ul>
<li><p><a id="2-2">Go程序基本结构</a></p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pacakge main </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span>(</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">//main函数是程序入口</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">"hello,world"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>练习1.写一个程序，对于给定一个数字<code>n</code>,求出所有亮亮相家等于,的组合。比如：对于<code>n=3</code>,所有的组合如下所示</p>
</blockquote>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0+3=3</span><br><span class="line">1+2=3</span><br><span class="line">2+1=3</span><br><span class="line">0+3=3</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-1/main.go" target="_blank" rel="noopener">main代码位置: Day2/LivingExample-1/main.go</a></p>
</blockquote>
<blockquote>
<p>练习2.一个程序包包含两个包<code>add</code>和<code>main</code>,其中add包中有两个变量，<code>Name</code>和<code>age</code>。请问<code>main</code>包中是如何访问<code>Name</code>和<code>Age</code>的(大写的为公有，小写为私有)</p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-2/main/main.go" target="_blank" rel="noopener">main代码位置: Day2/LivingExample-2/main/main.go</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-2/add/main.go" target="_blank" rel="noopener">add代码位置: Day2/LivingExample-2/add/main.go</a></p>
</blockquote>
<blockquote>
<p>练习3.包别名的应用,开发一个程序，使用包别名来访问包中的函数</p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-3/main/main.go" target="_blank" rel="noopener">main代码位置: Day2/LivingExample-3/main/main.go</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-3/add/main.go" target="_blank" rel="noopener">add代码位置: Day2/LivingExample-3/add/main.go</a></p>
</blockquote>
<blockquote>
<p>练习4.每个源文件都可以包含一个<code>init</code>函数，这个<code>init</code>函数自动被<code>go</code>运行框架调用。开发一个演示这个功能</p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-4/add/add.go" target="_blank" rel="noopener">代码位置: Day2/LivingExample-4/add/add.go</a></p>
</blockquote>
</li>
</ul>
<h3 id="常量和变量"><a href="#常量和变量" class="headerlink" title="常量和变量"></a>常量和变量</h3><ul>
<li><p><a id="2-3">常量和变量</a></p>
<ul>
<li>1.常量使用<code>const</code>修饰，代表永远只读，不能修改。</li>
<li>2.<code>const</code>只能修饰<code>boolean</code>,<code>number(int相关类型、浮点类型、complex)和string</code></li>
<li><p>3.语法<code>const identifier [type] = value</code>,其中<code>type</code>可以省略。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> b <span class="keyword">string</span> = <span class="string">"hello world"</span></span><br><span class="line"><span class="keyword">const</span> b = <span class="string">"hello world"</span></span><br><span class="line"><span class="keyword">const</span> Pi = <span class="number">3.1415926</span></span><br><span class="line"><span class="keyword">const</span> a = <span class="number">9</span>/<span class="number">3</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    a = <span class="number">1</span></span><br><span class="line">    b = <span class="number">2</span></span><br><span class="line">    c = <span class="number">3</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    a = <span class="literal">iota</span></span><br><span class="line">    b</span><br><span class="line">    c</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>练习：定义两个常量<code>Man=1</code>和<code>Female=2</code>,获取当年时间的秒数，如果能被<code>Femal</code>e整除，则在终端打印<code>female</code>，否则打印<code>man</code></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-5/main.go" target="_blank" rel="noopener">代码位置: Day2/LivingExample-5/main.go</a></p>
</blockquote>
</li>
<li><ol start="4">
<li><p>变量</p>
<ul>
<li>4.1 语法:<code>var identifier type</code><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//eg1:</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> c <span class="keyword">bool</span></span><br><span class="line"><span class="keyword">var</span> d <span class="keyword">int</span> = <span class="number">8</span></span><br><span class="line"><span class="keyword">var</span> e <span class="keyword">string</span> = <span class="string">"Hello world"</span></span><br><span class="line"><span class="comment">//eg2:</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    a <span class="keyword">int</span>  <span class="comment">//默认是0</span></span><br><span class="line">    b <span class="keyword">string</span> <span class="comment">//默认是""</span></span><br><span class="line">    c <span class="keyword">bool</span> <span class="comment">//默认是false</span></span><br><span class="line">    d <span class="keyword">int</span> = <span class="number">8</span></span><br><span class="line">    e <span class="keyword">string</span> = <span class="string">"Hello world"</span></span><br><span class="line">)</span><br><span class="line"><span class="comment">//eg3:</span></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    a <span class="keyword">int</span>  <span class="comment">//默认是0</span></span><br><span class="line">    b <span class="keyword">string</span> <span class="comment">//默认是""</span></span><br><span class="line">    c <span class="keyword">bool</span> <span class="comment">//默认是false</span></span><br><span class="line">    d = <span class="number">8</span></span><br><span class="line">    e = <span class="string">"Hello world"</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>练习写一个程序获取当前运行的系统名称和<code>PATH</code>环境变量的值，并打印在终端</p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-6/main.go" target="_blank" rel="noopener">代码位置: Day2/LivingExample-6/main.go</a></p>
</blockquote>
<ul>
<li><p>4.2 变量的作用域</p>
<ul>
<li>4.2.1 在杉树内部声明的变量叫做局部变量，生命周期仅存限于函数内部。</li>
<li>4.2.2 在函数外部生命的变量叫做全局变量，声明周期租用与中个包，如果是大写的则作用于整个程序。</li>
<li><p>4.2.3 函数内部<code>{}</code>大括号中的语句块中定义的变量，只能在语句块中使用。</p>
<blockquote>
<p>练习下列程序的输出是什么,<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-10/main.go" target="_blank" rel="noopener">代码位置: Day2/LivingExample-10/main.go</a></p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">"G"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">n</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">m</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="string">"O"</span></span><br><span class="line">    fmt.Println(a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    n()</span><br><span class="line">    m()</span><br><span class="line">    n()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>练习下列程序输出的是什么，<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-11/main.go" target="_blank" rel="noopener">代码位置: Day2/LivingExample-11/main.go</a></p>
</blockquote>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">string</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a = <span class="string">"G"</span></span><br><span class="line">    fmt.Println(a)</span><br><span class="line">    f1()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f1</span><span class="params">()</span></span> &#123;</span><br><span class="line">    a := <span class="string">"O"</span></span><br><span class="line">    fmt.Println(a)</span><br><span class="line">    f2()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f2</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><p><a id="2-4">数据类型和操作符</a></p>
</li>
<li><p>1.<code>bool</code>类型，只能存<code>true</code>和<code>false</code></p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">bool</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">true</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>2.相关操作符</p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">bool</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>请问<code>!a</code>、<code>!b</code>、<code>a&amp;&amp;b</code>、<code>a||b</code>的值分别是多少</p>
</blockquote>
</li>
<li><p>3.数字类型，主要有</p>
<ul>
<li>3.1<code>int</code>整形(由正负)<ul>
<li><code>int</code>、<code>int8</code>、<code>int16</code>、<code>int32</code>、<code>int68</code></li>
</ul>
</li>
<li>3.2 <code>uint</code> 无符号整形(无负数)<ul>
<li><code>uint8</code>、<code>uint16</code>、<code>uint32</code>、<code>uint64</code></li>
</ul>
</li>
<li>3.3 <code>float</code>浮点数<ul>
<li><code>float32</code>、<code>float64</code></li>
</ul>
</li>
</ul>
</li>
<li><ol start="4">
<li>类型转换<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">int8</span> = <span class="number">100</span></span><br><span class="line"><span class="comment">//将int8类型的a转换成int16</span></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">int16</span> = <span class="keyword">int16</span>(a)</span><br></pre></td></tr></table></figure>
</li>
</ol>
</li>
</ul>
<h3 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h3><ul>
<li><p><a id="2-5">字符串类型</a></p>
<ul>
<li><p>字符串拼装操作<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-12/main.go" target="_blank" rel="noopener">代码位置: Day2/LivingExample-12/main.go</a></p>
</li>
<li><p>字符串反转：<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-13/main/main.go" target="_blank" rel="noopener">代码位置: Day2/LivingExample-13/main/main.go</a></p>
</li>
</ul>
</li>
</ul>
<h3 id="函数的声明和注释"><a href="#函数的声明和注释" class="headerlink" title="函数的声明和注释"></a>函数的声明和注释</h3><ul>
<li><p><a id="2-6">函数的声明和注释</a></p>
<ul>
<li><p>1.函数声明：<code>func函数名字(参数列表)(返回值列表){}</code></p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">举例</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">()</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span> <span class="params">(a <span class="keyword">int</span>,b <span class="keyword">int</span>)</span><span class="title">int</span></span> &#123;&#125;</span><br></pre></td></tr></table></figure>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span> <span class="params">(a <span class="keyword">int</span>,b <span class="keyword">int</span>)</span><span class="params">(<span class="keyword">int</span>,<span class="keyword">int</span>)</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.注释，两种注释，单行注释：<code>//</code>多行注释：<code>/*...*/</code></p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//add计算两个证书的和，并返回结果</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a <span class="keyword">int</span>, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;&#125;</span><br></pre></td></tr></table></figure>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*add计算两个证书的和，并返回结果*/</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a <span class="keyword">int</span>, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="值类型和引用类型"><a href="#值类型和引用类型" class="headerlink" title="值类型和引用类型"></a>值类型和引用类型</h3><ul>
<li><p><a id="2-7">值类型和引用类型</a></p>
<ul>
<li>1.值类型：变量直接存储值，内存通常在栈中分配<ul>
<li>a.值类型：基本数据类型<code>int</code>、<code>float</code>、<code>bool</code>、<code>string</code>已经数组和<code>struct.</code></li>
</ul>
</li>
<li>2.应用类型：变量存储的是一个地址，这个地址存储最终的值。内存通常在对战分配，通过GC回收<ul>
<li>a.引用类型：指针、<code>slice</code>、<code>map</code>、<code>chan</code>等都是引用类型。<blockquote>
<p>go语言交换值独有的方式<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/LivingExample-9/main/main.go" target="_blank" rel="noopener">代码位置: Day2/LivingExample-9/main/main.go</a></p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
<li><p>作业：</p>
<ul>
<li><p>判断101和200之间有多少个素数，并输出所有的素数</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/Assignment/PrimeNumber/main.go" target="_blank" rel="noopener">代码位置: Day2/Assignment/PrimeNumber/main.go</a></p>
</blockquote>
</li>
<li><p>打印出100-999中所有的”水仙花数，所谓的水仙花数是一个三位数，其中苏子的立方和等于该数恩深，例如153是一个水仙花数，因为153=1的三次方+5的三次方+3的三次方</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/Assignment/PPDI/main.go" target="_blank" rel="noopener">代码位置: Day2/Assignment/PPDI/main.go</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/Assignment/ASCII/main.go" target="_blank" rel="noopener">代码位置: (使用ASCII码来表示)Day2/Assignment/ASCII/main.go</a></p>
</blockquote>
</li>
<li><p>对于一个数<code>n</code>,求··的阶乘之和：，既：<code>1！+2！+3！+...n</code></p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day2/Assignment/main.go" target="_blank" rel="noopener">代码位置: Day2/Assignment/main.go</a></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<pre><code>- 变量赋值的区别
&gt;[代码位置: Day2/Assignment/main.go](https://github.com/TianRandai111/buxunxian/tree/master/Day2/Assignment/main.go)
</code></pre><h2 id="字符串处理包与函数"><a href="#字符串处理包与函数" class="headerlink" title="字符串处理包与函数"></a><a id="3">字符串处理包与函数</a></h2><ul>
<li><a href="#3-1">1. strings和strconv的使用</a></li>
<li><a href="#3-2">2. Go中的时间和日期类型</a></li>
<li><a href="#3-3">3. 指针类型</a></li>
<li><a href="#3-6">3. 流程控制</a></li>
<li><a href="#3-4">4. 函数详解</a></li>
<li><a href="#3-5">5. 课后作业</a></li>
</ul>
<h3 id="strings和strconv的使"><a href="#strings和strconv的使" class="headerlink" title="strings和strconv的使"></a><code>strings</code>和<code>strconv</code>的使</h3><ul>
<li><p><a id="3-1">1. <code>strings</code>和<code>strconv</code>的使用</a> </p>
<ul>
<li><p>1.1. <code>strings.HasPrefix(s string, prefix string) bool</code>：判断字符串s是否以prefix开头</p>
<blockquote>
<p>练习1：判断一个url是否以http://开头，如果不是，则加上http://。</p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-1/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-1/main.go</a></p>
</blockquote>
</li>
<li><p>1.2. <code>strings.HasSuffix(s string, suffix string) bool</code>：判断字符串s是否以suffix结尾。</p>
<blockquote>
<p>练习2：判断一个路径是否以”/“结尾，如果不是，则加上/。</p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-2/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-2/main.go</a></p>
</blockquote>
</li>
<li><p>1.3. <code>strings.Index(s string, str string) int</code>：判断str在s中首次出现的位置，如果没有出现，则返回-1</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-3/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-3/main.go</a></p>
</blockquote>
</li>
<li><p>1.4. <code>strings.LastIndex(s string, str string) int</code>：判断str在s中最后出现的位置，如果没有出现，则返回-1</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-4/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-4/main.go</a></p>
</blockquote>
</li>
<li><p>1.5. <code>strings.Replace(str string, old string, new string, n int)</code>：字符串替换</p>
</li>
<li>1.6. <code>strings.Count(str string, substr string)int</code>：字符串计数</li>
<li>1.7. <code>strings.Repeat(str string, count int)string</code>：重复count次str</li>
<li>1.8. <code>strings.ToLower(str string)string</code>：转为小写</li>
<li><p>1.9. <code>strings.ToUpper(str string)string</code>：转为大写</p>
<blockquote>
<p>练习4：写一个函数分别演示Replace、Count、Repeat、ToLower、ToUpper的用法</p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-5/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-5/main.go</a></p>
</blockquote>
</li>
<li><p>1.10. <code>strings.TrimSpace(str string)</code>：去掉字符串首尾空白字符</p>
<ul>
<li>1.10.1. <code>strings.Trim(str string, cut string)</code>：去掉字符串首尾cut字符</li>
<li>1.10.2. <code>strings.TrimLeft(str string, cut string)</code>：去掉字符串首cut字符</li>
<li>1.10.3. <code>strings.TrimRight(str string, cut string)</code>：去掉字符串首cut字符</li>
</ul>
</li>
<li>1.11.` strings.Field(str string)：返回str空格分隔的所有子串的slice<ul>
<li>1.11.1. <code>strings.Split(str string, split string</code>)：返回str split分隔的所有子串的slice</li>
</ul>
</li>
<li><p>1.12. <code>strings.Join(s1 []string, sep string)</code>：用sep把s1中的所有元素链接起来</p>
<blockquote>
<p>练习5：写一个函数分别演示TrimSpace、Trim、TrimLeft、TrimRight、Field、Split、以及Join的用法</p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-6/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-6/main.go</a></p>
</blockquote>
</li>
<li><p>1.13. strconv.Itoa(i int)：把一个整数i转成字符串</p>
</li>
<li><p>1.14. strconv.Atoi(str string)(int, error)：把一个字符串转成整数</p>
<blockquote>
<p>练习6：写一个函数分别演示Itoa、Atoi的用法</p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-7/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-7/main.go</a></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="2-Go中的时间和日期类型"><a href="#2-Go中的时间和日期类型" class="headerlink" title="2. Go中的时间和日期类型"></a>2. Go中的时间和日期类型</h3><ul>
<li><p><a id="3-2">2. Go中的时间和日期类型</a></p>
<ul>
<li>2.1 <code>time</code>包</li>
<li>2.2 <code>time.{Time类型}</code>，用来表示时间</li>
<li>2.3 获取当前时间<code>now := time.Now()</code>(通过这个参数可以获取以下的值)</li>
<li>2.4 通过这个上面参数可以获取以下的值<ul>
<li>2.4.1 <code>time.Now().Day()</code></li>
<li>2.4.2 <code>time.Now().Minute()</code></li>
<li>2.4.3 <code>time.Now().Month()</code></li>
<li>2.4.4 <code>time.Now().Year()</code></li>
</ul>
</li>
<li><p>2.5 格式化输出,<code>fmt.Printf(&quot;%02d/%02d/%02d %02d:%02d:%02d&quot;,now.Year()&#39;&#39;&#39;)</code></p>
<ul>
<li><p>2.5.1 格式化输出</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">now := time.Now()</span><br><span class="line">fmt.Println(now.Format(<span class="string">"02/1/2006 15:04"</span>))</span><br><span class="line">fmt.Println(now.Format(<span class="string">"2006/1/02 15:04"</span>))</span><br><span class="line">fmt.Println(now.Format(<span class="string">"2006/1/02"</span>))</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code>    &gt;[代码位置: Day3/LivingExample-8/main.go](https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-8/main.go)

- 2.6 ``time.Duration``用来表示纳秒
- 2.7 常量

    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">const (</span><br><span class="line">    Nanosecond  Duration = 1</span><br><span class="line">    Microsecond          = 1000 * Nanosecond</span><br><span class="line">    Millisecond          = 1000 * Microsecond</span><br><span class="line">    Second               = 1000 * Millisecond</span><br><span class="line">    Minute               = 60 * Second</span><br><span class="line">    Hour                 = 60 * Minute</span><br><span class="line">)</span><br></pre></td></tr></table></figure>

&gt; 练习6：写一个程序，获取当前时间，并格式化成 2017/06/15 08:05:00形式[代码位置: Day3/LivingExample-9/main.go](https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-9/main.go)

&gt; 练习7：写一个程序，统计一段代码的执行耗时，单位精确到微秒。[代码位置: Day3/LivingExample-10/main.go](https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-10/main.go)
</code></pre><h3 id="3-指针类型"><a href="#3-指针类型" class="headerlink" title="3. 指针类型"></a>3. 指针类型</h3><ul>
<li><p><a id="3-3">3. 指针类型</a></p>
<ul>
<li><ol>
<li>普通类型，变量存的就是值，也叫值类型</li>
</ol>
</li>
<li><ol start="2">
<li>获取变量的地址，用&amp;，比如： <code>var a int</code>, 获取a的地址：<code>&amp;a</code></li>
</ol>
</li>
<li><ol start="3">
<li>指针类型，变量存的是一个地址，这个地址存的才是值</li>
</ol>
</li>
<li><ol start="4">
<li>获取指针类型所指向的值，使用：<code>*</code>，比如：<code>var *p int</code>, 使用<code>*p</code>获取<code>p</code>指向的值<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">5</span>  <span class="comment">//a -- &gt;5 变量a指向5</span></span><br><span class="line"><span class="keyword">var</span> p *<span class="keyword">int</span> = &amp;a <span class="comment">//0xefefef -&gt; 5 指针p指向a的地址，a地址对应的值为5</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<blockquote>
<p>练习8：写一个程序，获取一个变量的地址，并打印到终端。<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-11/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-11/main.go</a></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<pre><code>&gt;练习9：写一个函数，传入一个··类型的指针，并在函数中修改所指向的值。在``main``函数中调用这个函数，并把修改前后的值打印到终端，观察结果[代码位置: Day3/LivingExample-12/main.go](https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-12/main.go)
</code></pre><ul>
<li><p><a id="3-6">3. 流程控制</a></p>
<ul>
<li><p>1.if/else分钟判断</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// no.1</span></span><br><span class="line"><span class="keyword">if</span> condition &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// no.2</span></span><br><span class="line"><span class="keyword">if</span> condition &#123;</span><br><span class="line">    </span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// no.3 </span></span><br><span class="line"><span class="keyword">if</span> condition &#123;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span> condition &#123;</span><br><span class="line"></span><br><span class="line">&#125;<span class="keyword">else</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>练习10：写一个程序，从终端读取输入，并转成整数，如果转成整数出错，则输出 <code>&quot;can not convert to int&quot;</code>，并返回。否则输出该整数。<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-13/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-13/main.go</a></p>
</blockquote>
</li>
<li><p>2.<code>switch case</code>语句,如果使用<code>fallthrough</code>会继续向下执行<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-14/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-14/main.go</a></p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 写法1</span></span><br><span class="line"><span class="keyword">switch</span> <span class="keyword">var</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> var1,var2:</span><br><span class="line">    <span class="keyword">case</span> var3:</span><br><span class="line">    <span class="keyword">case</span> var4:</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//写法2</span></span><br><span class="line"><span class="keyword">var</span> i = <span class="number">0</span></span><br><span class="line"><span class="keyword">switch</span> &#123;</span><br><span class="line">condition1:</span><br><span class="line">    fmt.Println(<span class="string">"i &gt; 0 and i &lt; 10"</span>)</span><br><span class="line">condition2:</span><br><span class="line">fmt.Println(<span class="string">"i &gt; 10 and i &lt; 20"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    fmt.Println(<span class="string">"def"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//写法3</span></span><br><span class="line"><span class="keyword">switch</span> i := <span class="number">0</span>; &#123;</span><br><span class="line">condition1:</span><br><span class="line">    fmt.Println(<span class="string">"i &gt; 0 and i &lt; 10"</span>)</span><br><span class="line">condition2:</span><br><span class="line">fmt.Println(<span class="string">"i &gt; 10 and i &lt; 20"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    fmt.Println(<span class="string">"def"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>练习：猜数字，写一个程序，随机生成一个0到100的整数n，然后用户在终端，输入数字，如果和n相等，则提示用户猜对了。如果不相等，则提示用户，大于或小于n。<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-15/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-15 /main.go</a></p>
</blockquote>
</li>
<li><p>3.for循环</p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> 初始化语句;条件判断；变量修改&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//写法1</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span> ;i&lt;cont;i++&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//打印改图形</span></span><br><span class="line">A</span><br><span class="line">AA</span><br><span class="line">AAA</span><br><span class="line">AAAA</span><br><span class="line">AAAAA</span><br><span class="line">AAAAAA</span><br><span class="line"></span><br><span class="line"><span class="comment">//写法2</span></span><br><span class="line"><span class="keyword">for</span> 条件判断&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//eg:</span></span><br><span class="line"><span class="keyword">for</span> i&gt;<span class="number">0</span>&#123;</span><br><span class="line">    fmt.Println(<span class="string">"i&gt;0"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> <span class="literal">true</span>&#123;</span><br><span class="line">    fmt.Println(<span class="string">"i&gt;0"</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">"i&gt;0"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//写法3</span></span><br><span class="line">str := <span class="string">"hello world,中国"</span></span><br><span class="line"><span class="keyword">for</span> i ,v := <span class="keyword">range</span> str&#123;</span><br><span class="line">    ftm.Printf(<span class="string">"index:%d,value:%s"</span>,i,v)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//break continue的使用方法</span></span><br><span class="line"><span class="comment">//Lable语句 字符串加: 配合goto continue使用</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>打印图形<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-16/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-16 /main.go</a></p>
</blockquote>
<blockquote>
<p><code>break continue</code>的使用方法<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-17/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-17 /main.go</a></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="4-函数详解"><a href="#4-函数详解" class="headerlink" title="4. 函数详解"></a>4. 函数详解</h3><ul>
<li><p><a id="3-4">4. 函数详解</a></p>
<ul>
<li><p>1.语法声明：<code>func 函数名(参数列表) [(返回值列表)] {}</code></p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">()</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a <span class="keyword">int</span>, b <span class="keyword">int</span>)</span></span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a <span class="keyword">int</span>, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a <span class="keyword">int</span>, b <span class="keyword">int</span>)</span> <span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span> &#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a,b <span class="keyword">int</span>)</span> <span class="params">(<span class="keyword">int</span>, <span class="keyword">int</span>)</span></span> &#123;&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.golang函数特点</p>
<ul>
<li>2.1 不支持重载，一个包不能有两个一样的函数</li>
<li>2.2 函数是一等公民，函数也是一种类型，函数可以复制给变量<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-18/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-18 /main.go</a></li>
<li>2.3 匿名函数</li>
<li>2.4 多返回值</li>
</ul>
</li>
<li><p>3.函数参数传递方式</p>
<ul>
<li>3.1 值传递</li>
<li>3.2 引用传递<blockquote>
<p>注意1：无论是值传递，还是引用传递，传递给函数的都是变量的副本，不过，值传递是值的拷贝。引用传递是地址的拷贝，一般来说，地址拷贝更为高效。而值拷贝取决于拷贝的对象大小，对象越大，则性能越低。</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>注意2：<code>map</code>、<code>slice</code>、<code>chan</code>、指针、<code>interface</code>默认以引用的方式传递。</p>
</blockquote>
</li>
<li><p>4.命名返回值的名字</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="params">(c <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">    c = a + b</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calc</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="params">(sum <span class="keyword">int</span>, avg <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">        sum = a + b</span><br><span class="line">        avg = (a +b)/<span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>5.忽略返回值</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calc</span> <span class="params">(a,b <span class="keyword">int</span>)</span> <span class="params">(sum <span class="keyword">int</span>,avg <span class="keyword">int</span>)</span></span>&#123;</span><br><span class="line">    sum = a + b</span><br><span class="line">    avg = (a + b)/<span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    sum, _ := calc(<span class="number">100</span>,<span class="number">200</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>6.可变参数：</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//0个或多个参数,arg属于切片</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span> <span class="params">(arg...<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1个或多个参数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span> <span class="params">(a <span class="keyword">int</span>,arg...<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2个或多个参数</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span> <span class="params">(a <span class="keyword">int</span>,b <span class="keyword">int</span>,arg...<span class="keyword">int</span>)</span> <span class="title">int</span></span> &#123;&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>练习14：写一个函数add，支持1个或多个int相加，并返回相加结果</p>
</blockquote>
<blockquote>
<p>练习15：写一个函数concat，支持1个或多个string相拼接，并返回结果</p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-19/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-19/main.go</a></p>
</blockquote>
</li>
<li><p>7.defer的用途：</p>
<ul>
<li>a 当函数返回时，执行defer语句。因此，可以用来做资源清理</li>
<li>b 多个defer语句，按先进后出的方式执行</li>
<li><p>c defer语句中的变量，在defer声明时就决定了。</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/LivingExample-20/main.go" target="_blank" rel="noopener">代码位置: Day3/LivingExample-20/main.go</a></p>
</blockquote>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">a</span><span class="params">()</span></span> &#123;</span><br><span class="line">    i := <span class="number">0</span></span><br><span class="line">    <span class="keyword">defer</span> fmt.Println(i)</span><br><span class="line">    i++</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">    &#125; </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">f</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">                <span class="keyword">defer</span> fmt.Printf(<span class="string">"%d "</span>, i)</span><br><span class="line">        &#125; </span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.1 锁资源释放</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">read</span><span class="params">()</span></span> &#123;</span><br><span class="line">file := open(filename)</span><br><span class="line"><span class="keyword">defer</span> file.Close()</span><br><span class="line"></span><br><span class="line"><span class="comment">//文件操作</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.2 锁资源释放</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">read</span><span class="params">()</span></span> &#123;</span><br><span class="line">mc.Lock()</span><br><span class="line"><span class="keyword">defer</span> mc.Unlock()</span><br><span class="line"><span class="comment">//其他操作</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.3 数据库连接释放</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">read</span><span class="params">()</span></span> &#123;</span><br><span class="line">conn := openDatabase()</span><br><span class="line"><span class="keyword">defer</span> conn.Close()</span><br><span class="line"><span class="comment">//其他操作</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="5-课后作业"><a href="#5-课后作业" class="headerlink" title="5. 课后作业"></a>5. 课后作业</h3><ul>
<li><a id="3-5">5. 课后作业</a><ul>
<li>1.编写程序，在终端输出九九乘法表。<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/Assignment/one/main.go" target="_blank" rel="noopener">代码位置: Day3/Assignment/one/main.go</a></li>
<li>2.一个数如果恰好等于它的因子之和，这个数就称为”完数”。例如<code>6=1＋2＋3</code>.编程找出1000以内的所有完数。<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/Assignment/two/main.go" target="_blank" rel="noopener">代码位置: Day3/Assignment/two/main.go</a></li>
<li>3.输入一个字符串，判断其是否为回文。回文字符串是指从左到右读和从右到左读完全相同的字符串。<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/Assignment/three/main.go" target="_blank" rel="noopener">代码位置: Day3/Assignment/three/main.go</a></li>
<li>4.输入一行字符，分别统计出其中英文字母、空格、数字和其它字符的个数。<a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/Assignment/four/main.go" target="_blank" rel="noopener">代码位置: Day3/Assignment/four/main.go</a></li>
<li>5.计算两个大数相加的和，这两个大数会超过<code>int64</code>的表示范围.</li>
<li><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/Assignment/five/my-version/main.go" target="_blank" rel="noopener">代码位置: 自己的版本 Day3/Assignment/five/my-version/main.go</a></li>
<li><a href="https://github.com/TianRandai111/buxunxian/tree/master/Day3/Assignment/five/teacher-version/main.go" target="_blank" rel="noopener">代码位置: 别人的版本Day3/Assignment/five/teacher-version/main.go</a></li>
</ul>
</li>
</ul>
<h2 id="数组、切片、map、package介"><a href="#数组、切片、map、package介" class="headerlink" title="数组、切片、map、package介"></a>数组、切片、map、package介</h2><p><a id="4">数组、切片、map、package介绍</a></p>
<p><a href="#4-1">1.内置函数、递归函数、闭包</a></p>
<p><a href="#4-2">2.数组与切片</a></p>
<p><a href="#4-3">3.map数组结构</a></p>
<p><a href="#4-4">4.package介绍</a></p>
<p><a href="#4-5">5.课后作业</a></p>
<h3 id="1-内置函数、递归函数、闭包"><a href="#1-内置函数、递归函数、闭包" class="headerlink" title="1.内置函数、递归函数、闭包"></a>1.内置函数、递归函数、闭包</h3><p><a id="4-1">1.内置函数、递归函数、闭包</a></p>
<ul>
<li><p>1.1. 内置函数</p>
<ul>
<li>1.1.1. <code>close</code>：主要用来关闭<code>channel</code></li>
<li>1.1.2. <code>len</code>：用来求长度，比如<code>string</code>、<code>array</code>、<code>slice</code>、<code>map</code>、<code>channel</code></li>
<li>1.1.3. <code>new</code>：用来分配内存，主要用来分配值类型，比如<code>int</code>、<code>struct</code>。返回的是指针<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-1/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-1/main.go</a></li>
<li>1.1.4. <code>make</code>：用来分配内存，主要用来分配引用类型，比如<code>chan</code>、<code>map</code>、<code>slice</code></li>
<li>1.1.5. <code>append</code>：用来追加元素到数组、slice中<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-2/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-2/main.go</a></li>
<li><p>1.1.6. <code>panic</code>和<code>recover</code>：用来做错误处理<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-3/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-3/main.go</a></p>
<blockquote>
<p>new和make的区别</p>
</blockquote>
<p><img src="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Image/Image-1.png?raw=true" alt="image"></p>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-4/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-4/main.go</a></p>
</li>
</ul>
</li>
<li><p>1.2. 递归函数-自己调用自己</p>
<ul>
<li>1.2.1 定义好出口条件</li>
<li>1.2.2 一个大问题可以分解成相似的小问题</li>
<li>1.2.3 数字的阶层 <a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-5/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-5/main.go</a></li>
<li>1.2.4 斐波那契数列  <a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-6/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-6/main.go</a></li>
</ul>
</li>
<li><p>1.3 闭包</p>
<ul>
<li>1.3.1 一个函数与其相关的引用环境组合成的实体</li>
<li>1.3.2 闭包的函数会保存更改的状态</li>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-7/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-7/main.go</a></li>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-8/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-8/main.go</a></li>
</ul>
</li>
</ul>
<h3 id="2-数组与切片"><a href="#2-数组与切片" class="headerlink" title="2.数组与切片"></a>2.数组与切片</h3><p><a id="4-2">2.数组与切片</a></p>
<ul>
<li><p>2.1 数组</p>
<ul>
<li>2.1.1 数组：使用中数据类型的固定长度的序列。</li>
<li>2.1.2 数组定义：<code>var a [len]int</code>,比如：<code>var a[5]int</code></li>
<li>2.1.3 长度是数组类型的一部分，因此，var a[5] int和 var a[10] int是不同的类型</li>
<li><p>2.1.4 数组可以通过下标进行访问，下标是从0开始的，最后一个元素的下标是，len-1</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a [<span class="number">10</span>]<span class="keyword">int</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>;i &lt; <span class="built_in">len</span>(a);i++ &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span> i ,v := <span class="keyword">range</span> a&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.1.5 访问越界：如果下标在数组合法范围之外，则触发访问越界，会panic</p>
</li>
<li><p>2.1.6 数组是值类型，因此改变副本的值，不会改变本身的值<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-9/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-9/main.go</a></p>
<blockquote>
<p>练习：使用非递归的方式实现斐波那契数列，打印前100个数。 <a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-10/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-10/main.go</a></p>
</blockquote>
</li>
<li><p>2.1.7 数组初始化</p>
<ul>
<li>a. <code>var age0 [5]int = [5]int{1,2,3}</code></li>
<li>b. <code>var age1 = [5]int{1,2,3,4,5,}</code></li>
<li>c. <code>var age2 = [...]int{1,2,3,4,5}</code></li>
<li>d. <code>var age3 = [5]string{3:&quot;hello world&quot;,4:&quot;tom&quot;}</code></li>
</ul>
</li>
<li><p>2.1.8 多维数组</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a ``var age [5][3]int``</span><br><span class="line">b ``var f[2][3]int = [...][3]int&#123;&#123;1,2,3,&#125;,&#123;7,8,9&#125;&#125; //两行三列``</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.1.9 多维数组遍历</p>
</li>
<li><p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-11/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-11/main.go</a></p>
</li>
</ul>
</li>
<li><p>2.2 切片</p>
<ul>
<li>2.2.1. 切片：切片是数组的一个引用，因此切片是引用类型</li>
<li>2.2.2. 切片的长度可以改变，因此，切片是一个可变的数组</li>
<li>2.2.3. 切片遍历方式和数组一样，可以用<code>len()</code>求长度</li>
<li>2.2.4. <code>cap//内置函数</code>可以求出<code>slice</code>最大的容量，<code>0 &lt;= len(slice) &lt;= (array)</code>，其中<code>array</code>是<code>slice</code>引用的数组</li>
<li>2.2.5. 切片的定义：<code>var</code> 变量名 []类型，比如<code>var str []string  var arr []int</code></li>
<li><p>2.2.6. 切片初始化<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-12/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-12/main.go</a></p>
<ul>
<li>a. 切片初始化：<code>var slice []int = arr[start:end]</code>包含<code>start</code>到<code>end</code>之间的元素，但不包含<code>end</code> </li>
<li>b. <code>var slice []int = arr[0:end]</code>可以简写为<code>var slice []int=arr[:end]</code></li>
<li>c. <code>var slice []int = arr[start:len(arr)]</code> 可以简写为 <code>var slice[]int = arr[start:]</code></li>
<li>d. <code>var slice []int = arr[0, len(arr)]</code> 可以简写为<code>var slice[]int = arr[:]</code></li>
<li>e. 如果要切片最后一个元素去掉，可以这么写： <code>slice = slice[:len(slice)-1]</code><blockquote>
<p>练习：写一个程序，演示切片的各个用法<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-13/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-13/main.go</a></p>
</blockquote>
</li>
</ul>
</li>
<li><p>2.2.7. 切片的内存布局</p>
</li>
</ul>
</li>
<li><p><img src="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Image/Image-2.png?raw=true" alt="image"></p>
<ul>
<li>2.2.8. 通过make来创建切片<ul>
<li>a. <code>var slice []type = make([]type,len)</code></li>
<li>b. <code>slice := make([]type,len)</code></li>
<li>c. <code>slice := make([]type,len,cap)</code></li>
</ul>
</li>
<li><p><img src="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Image/Image-3.png?raw=true" alt="image"></p>
</li>
<li><p>2.2.9. 用append内置函数操作切片</p>
  <figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">slice =<span class="built_in">append</span>(slice, <span class="number">10</span>)</span><br><span class="line"><span class="keyword">var</span> a = []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line"><span class="keyword">var</span> b = []<span class="keyword">int</span>&#123;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>&#125;</span><br><span class="line">a= <span class="built_in">append</span> (a,b)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<pre><code>- 2.2.10. 遍历切片
    <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> index, val := <span class="keyword">range</span> slice &#123;&#125;</span><br></pre></td></tr></table></figure>


- 2.2.11. 切片resize
    <figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">b := a[<span class="number">1</span>:<span class="number">2</span>]</span><br><span class="line">b = b[<span class="number">0</span>:<span class="number">3</span>]</span><br></pre></td></tr></table></figure>


- 2.2.12. 切片拷贝copy()//拷贝不会扩展切片，如果新生成的切片小于被拷贝的切片，只会拷贝到新切片下标的长度。
    <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">s1 := []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;</span><br><span class="line">s2 := <span class="built_in">make</span>([]<span class="keyword">int</span>, <span class="number">10</span>)</span><br><span class="line"><span class="built_in">copy</span>(s2, s1)</span><br><span class="line">s3 := []<span class="keyword">int</span>&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">s3 = <span class="built_in">append</span>(s3, s2…)</span><br><span class="line">s3 = <span class="built_in">append</span>(s3, <span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)</span><br></pre></td></tr></table></figure>

- [代码位置: Day4/LivingExample-14/main.go](https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-14/main.go)

- 2.2.13. string与slice,string底层就是一个byte的数组，因此，也可以进行切片操作
    <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    str := <span class="string">"hello world"</span></span><br><span class="line">    s1 := str[<span class="number">0</span>:<span class="number">5</span>]</span><br><span class="line">fmt.Println(s1)</span><br><span class="line"></span><br><span class="line">    s2 := str[<span class="number">5</span>:]</span><br><span class="line">    fmt.Println(s2)</span><br></pre></td></tr></table></figure>

    - [代码位置: Day4/LivingExample-15/main.go](https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-15/main.go)
    - string的底层布局
    - ![image](https://github.com/TianRandai111/buxunxian/blob/master/Day4/Image/Image-4.png?raw=true)
- 修改string的值[代码位置: Day4/LivingExample-15/main.go](https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-15/main.go)

- 2.2.14. 排序和查找
    - a. 排序操作主要都在 ``sort``包中，导入就可以使用了``import(&quot;sort&quot;)``
    - b. ``sort.Ints``对整数进行排序， ``sort.Strings``对字符串进行排序, ``sort.Float64s``对浮点数进行排序.
    - c. ``sort.SearchInts(a []int, b int)`` 从数组``a``中查找``b``，前提是``a``必须有序
    - d. ``sort.SearchFloats(a []float64, b float64)`` 从数组``a``中查找``b``，前提是``a``必须有序
    - f. ``sort.SearchStrings(a []string, b string) ``从数组``a``中查找``b``，前提是``a``必须有序
    - [代码位置: Day4/LivingExample-17/main.go](https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-17/main.go)
</code></pre><h3 id="3-map数组结构"><a href="#3-map数组结构" class="headerlink" title="3.map数组结构"></a>3.map数组结构</h3><p><a id="4-3">3.map数组结构</a></p>
<ul>
<li><p>3.1. map简介:key-value的数据结构，又叫字典或关联数组</p>
<ul>
<li><p>3.1.1 声明//声明是不会分配内存的，初始化需要make,同样的key:value会覆盖</p>
  <figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> map1 <span class="keyword">map</span>[keytype]valuetype</span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-18/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-18/main.go</a></p>
</li>
</ul>
</li>
<li><p>3.2. 相关操作</p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span> = <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>&#123;<span class="string">"hello"</span>: <span class="string">"world"</span>,&#125;</span><br><span class="line">a = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">string</span>, <span class="number">10</span>)</span><br><span class="line">a[<span class="string">"hello"</span>] = <span class="string">"world"</span>    <span class="comment">//插入和更新</span></span><br><span class="line">val, ok := a[<span class="string">"hello"</span>]   <span class="comment">//查找</span></span><br><span class="line"><span class="keyword">for</span> k, v := <span class="keyword">range</span> a &#123;   <span class="comment">//遍历</span></span><br><span class="line">    fmt.Println(k,v) </span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">delete</span>(a, <span class="string">"hello"</span>)      <span class="comment">//删除</span></span><br><span class="line"><span class="built_in">len</span>(a)                  <span class="comment">//长度</span></span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-19/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-19/main.go</a></li>
</ul>
</li>
<li><p>3.3. map是引用类型</p>
  <figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">modify</span><span class="params">(a <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">a[“one”] = <span class="number">134</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.4. slice of map</p>
  <figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Items := <span class="built_in">make</span>([]<span class="keyword">map</span>[<span class="keyword">int</span>][<span class="keyword">int</span>], <span class="number">5</span>)</span><br><span class="line">For I := <span class="number">0</span>; I &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">        items[i] = <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="keyword">int</span>][<span class="keyword">int</span>])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-20/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-20/main.go</a></li>
</ul>
</li>
<li><p>3.5. map排序</p>
<ul>
<li>3.5.1. 先获取所有key，把key进行排序</li>
<li>3.5.2. 按照排序好的key，进行遍历</li>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-21/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-21/main.go</a></li>
</ul>
</li>
<li><p>3.6. Map反转</p>
<ul>
<li>3.6.1. 初始化另外一个map，把key、value互换即可</li>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/LivingExample-22/main.go" target="_blank" rel="noopener">代码位置: Day4/LivingExample-22/main.go</a></li>
</ul>
</li>
</ul>
<h3 id="4-package介绍"><a href="#4-package介绍" class="headerlink" title="4.package介绍"></a>4.package介绍</h3><p><a id="4-4">4.package介绍</a></p>
<ul>
<li><p>4.1. golang中的包</p>
<ul>
<li>4.1.1. golang目前有150个标准包，覆盖了几乎所有的基础库</li>
<li>4.1.2. golang.org有所有包的文档,多多翻阅</li>
</ul>
</li>
<li><p>4.2. 线程同步 //多个线程同时操作一个资源</p>
<ul>
<li>4.2.1. <code>import(&quot;sync&quot;)</code></li>
<li>4.2.2. 互斥锁,<code>var mu sync.Mutex</code></li>
<li>4.2.3. 读写锁,<code>var mu sync.RWMutex</code></li>
</ul>
</li>
<li><p>4.3. go get安装第三方包</p>
</li>
</ul>
<h3 id="5-课后作业-1"><a href="#5-课后作业-1" class="headerlink" title="5.课后作业"></a>5.课后作业</h3><p><a id="4-5">5.课后作业</a></p>
<ul>
<li><p>5.1. 实现一个冒泡排序</p>
<ul>
<li>自己的版本<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Assignment/one/my-version/main.go" target="_blank" rel="noopener">代码位置: Day4\Assignment\one\my-version\main.go</a></li>
<li>老师的版本<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Assignment/one/teacher-version/main.go" target="_blank" rel="noopener">代码位置: Day4\Assignment\one\my-version\main.go</a></li>
</ul>
</li>
<li><p>5.2. 实现一个选择排序</p>
<ul>
<li>自己的版本<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Assignment/two/my-version/main.go" target="_blank" rel="noopener">代码位置: Day4\Assignment\two\my-version\main.go</a></li>
<li>老师的版本<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Assignment/two/teacher-version/main.go" target="_blank" rel="noopener">代码位置: Day4\Assignment\two\my-version\main.go</a></li>
</ul>
</li>
<li><p>5.3. 实现一个插入排序</p>
<ul>
<li>自己的版本<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Assignment/three/my-version/main.go" target="_blank" rel="noopener">代码位置: Day4\Assignment\three\my-version\main.go</a></li>
<li>老师的版本<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Assignment/three/teacher-version/main.go" target="_blank" rel="noopener">代码位置: Day4\Assignment\three\my-version\main.go</a></li>
</ul>
</li>
<li><p>5.4. 实现一个快速排序</p>
<ul>
<li>自己的版本<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Assignment/four/my-version/main.go" target="_blank" rel="noopener">代码位置: Day4\Assignment\four\my-version\main.go</a></li>
<li>老师的版本<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day4/Assignment/four/teacher-version/main.go" target="_blank" rel="noopener">代码位置: Day4\Assignment\four\my-version\main.go</a></li>
</ul>
</li>
</ul>
<h2 id="Day-5-结构体、方法、接口"><a href="#Day-5-结构体、方法、接口" class="headerlink" title="Day-5 结构体、方法、接口"></a>Day-5 结构体、方法、接口</h2><p><a id="5">Day-5 结构体、方法、接口</a></p>
<p><a href="#5-1">1. 结构体</a></p>
<p><a href="#5-2">2. 方法</a></p>
<p><a href="#5-4">3. 作业</a></p>
<h3 id="1-1-结构体"><a href="#1-1-结构体" class="headerlink" title="1.1 结构体"></a>1.1 结构体</h3><p><a id="5-1">1. 结构体</a></p>
<ul>
<li><p>1.1 结构体的定义</p>
<ul>
<li>1.1.1 用来定义复杂的数据结构</li>
<li>1.1.2 struct里面可以包含多个字段（属性）</li>
<li>1.1.3 strunt类型可以定义方法，注意和函数的区分</li>
<li>1.1.4 sturct类型是值类型</li>
<li>1.1.5 struct类型可以嵌套</li>
<li>1.1.6 Go语言没有class类型，只有struct类型</li>
</ul>
</li>
<li><p>1.2 结构体的声明</p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> 标识符 <span class="keyword">struct</span>&#123;</span><br><span class="line">    field1 <span class="keyword">type</span></span><br><span class="line">    field1 <span class="keyword">type</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 例子</span></span><br><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span>&#123;</span><br><span class="line">    Name <span class="keyword">string</span> </span><br><span class="line">    age <span class="keyword">int</span></span><br><span class="line">    scort <span class="keyword">int</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day5/LivingExample-1/main.go" target="_blank" rel="noopener">代码位置: Day5/LivingExample-1/main.go</a></li>
</ul>
</li>
<li><p>1.3 struct 中字段访问，和其他语言一样，实用点</p>
  <figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//例子</span></span><br><span class="line"><span class="keyword">var</span> stu Student</span><br><span class="line">stu.Name = <span class="string">"tony"</span></span><br><span class="line">stu.Age = <span class="number">18</span></span><br><span class="line">stu.Score = <span class="number">20</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">"name=%s,age=%d,Score=%d"</span>,stu.Name,stu.Age,stu.Score)</span><br></pre></td></tr></table></figure>
</li>
<li><p>1.4 结构体定义的三种形式：</p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> stu student</span><br><span class="line"><span class="keyword">var</span> stu *student = <span class="built_in">new</span>(Student)</span><br><span class="line"><span class="keyword">var</span> stu *student = &amp;Student&#123;&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>1.4.1 其中二、三返回的都是指向结构体的指针，访问形式如下：<br><code>stu.Name、stu.Age和stu.Score或者(*stu).Name、(*stu).Age等</code></li>
</ul>
</li>
<li><p>1.5 链表定义</p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span>&#123;</span><br><span class="line">    Name <span class="keyword">string</span></span><br><span class="line">    Next *Student</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>链表的插入方法<ul>
<li>尾部插入法<ul>
<li>手动插入链表 <a href="https://github.com/TianRandai111/buxunxian/blob/master/Day5/LivingExample-2/main.go" target="_blank" rel="noopener">代码位置: Day5/LivingExample-2/main.go</a></li>
<li>循环尾部插入链表 <a href="https://github.com/TianRandai111/buxunxian/blob/master/Day5/LivingExample-3/main.go" target="_blank" rel="noopener">代码位置: Day5/LivingExample-3/main.go</a></li>
<li>循环头部插入链表，添加、删除链表的一个节点<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day5/LivingExample-4/main.go" target="_blank" rel="noopener">代码位置: Day5/LivingExample-4/main.go</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>1.6双链表定义</p>
  <figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span>&#123;</span><br><span class="line">    Name <span class="keyword">string</span></span><br><span class="line">    Next *Student</span><br><span class="line">    Prev *Student</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果有两个指针分别指向前一个节点和后一个节点,我们叫做双链表</p>
</blockquote>
</li>
<li><p>1.7 二叉树</p>
  <figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span>&#123;</span><br><span class="line">    Name <span class="keyword">string</span></span><br><span class="line">    left *Student</span><br><span class="line">    right *Student</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>如果每个几点有两个指针飞边指向左子树和右子树，我们吧这样的结构叫做二叉树</p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day5/LivingExample-5/main.go" target="_blank" rel="noopener">代码位置: Day5/LivingExample-5/main.go</a></p>
</blockquote>
</li>
<li><p>1.8 结构体是用户单独定义的类型，不能和其他类型进行强制转换</p>
</li>
</ul>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Student <span class="keyword">struct</span> &#123;</span><br><span class="line">        Number <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Stu Student <span class="comment">//alias</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Student与Stu不是同一类型</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a Student</span><br><span class="line">a = Student(<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b Stu</span><br><span class="line"></span><br><span class="line"><span class="comment">//此处赋值会失败</span></span><br><span class="line">a = b</span><br><span class="line"></span><br><span class="line"><span class="comment">//需要类型转换</span></span><br><span class="line">a = Student(b)</span><br></pre></td></tr></table></figure>
<ul>
<li><p>1.9 golang中的struct没有构造函数，一般可以使用工厂模式来解决这个问题</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Package model</span><br><span class="line"><span class="keyword">type</span> student <span class="keyword">struct</span> &#123;</span><br><span class="line">       Name stirng</span><br><span class="line">    Age <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewStudent</span><span class="params">(name <span class="keyword">string</span>, age <span class="keyword">int</span>)</span> *<span class="title">student</span></span> &#123;</span><br><span class="line"><span class="keyword">return</span> &amp;student&#123;</span><br><span class="line">       Name:name,</span><br><span class="line">       Age:age,&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Package main</span><br><span class="line">S := <span class="built_in">new</span> (student)</span><br><span class="line">S := model.NewStudent(“tony”, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>1.11 我们可以为struct中的每个字段，写上一个tag。这个tag可以通过反射的机制获取到，最常用的场景就是json序列化和反序列化(描述信息)</p>
</li>
</ul>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> student <span class="keyword">struct</span> &#123;</span><br><span class="line">       Name stirng  “this is name field”</span><br><span class="line">    Age <span class="keyword">int</span>           “this is age field”</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day5/LivingExample-6/main.go" target="_blank" rel="noopener">代码位置: Day5/LivingExample-6/main.go</a></p>
</blockquote>
<ul>
<li>1.12 匿名字段，结构体中字段可以没有名字，即你名字段<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Car <span class="keyword">struct</span> &#123;</span><br><span class="line">    Name <span class="keyword">string</span></span><br><span class="line">    Age <span class="keyword">int</span>        </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Train <span class="keyword">struct</span> &#123;</span><br><span class="line">        Car</span><br><span class="line">        <span class="keyword">int</span></span><br><span class="line">        Start time.Time</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day5/LivingExample-7/main.go" target="_blank" rel="noopener">代码位置: Day5/LivingExample-7/main.go</a></p>
</blockquote>
<h3 id="2-方法"><a href="#2-方法" class="headerlink" title="2. 方法"></a>2. 方法</h3><p><a id="5-2">2. 方法</a></p>
<ul>
<li><p>2.0 方法 go中的方法是作用在特定类型的变量上，因此自定义类型，都可以有方法，而不仅仅是struct</p>
<ul>
<li>定义：<code>func (recevier type) methodName(参数列表)(返回值列表){}</code></li>
</ul>
</li>
<li><p>2.1 方法的调用</p>
<ul>
<li>方法的声明和调用<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day5/LivingExample-8/main.go" target="_blank" rel="noopener">代码位置: Day5/LivingExample-8/main.go</a><figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> A <span class="keyword">struct</span> &#123;</span><br><span class="line">        a <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(this A)</span> <span class="title">test</span><span class="params">()</span></span> &#123;         fmt.Println(this.a)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> t A</span><br><span class="line">t.test()</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>2.2 方法和函数的区别</p>
<ul>
<li>2.2.1 函数调用： <code>function(variable, 参数列表）</code></li>
<li>2.2.2 方法：<code>variable.function(参数列表）</code></li>
</ul>
</li>
<li><p>2.3 指针receiver   vs 值receiver</p>
<ul>
<li>2.3.1 本质上和函数的值传递和地址传递是一样的</li>
</ul>
</li>
<li><p>2.4 方法的访问控制，通过大小写控制</p>
</li>
<li><p>2.5 继承</p>
<ul>
<li>2.5.1 如果一个<code>struct</code>嵌套了另一个匿名结构体，那么这个结构可以直接访问匿名结构体的方法，从而实现了继承。<br>-<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day5/LivingExample-9/main.go" target="_blank" rel="noopener">代码位置: Day5/LivingExample-9/main.go</a></li>
</ul>
</li>
<li><p>2.6 组合和匿名字段</p>
<ul>
<li>2.6.1 如果一个<code>struct</code>嵌套了另一个匿名结构体，那么这个结构可以直接访问匿名结构体的方法，从而实现了继承。</li>
<li>2.6.2 如果一个<code>struct</code>嵌套了另一个有名结构体，那么这个模式就叫组合。<br>-<a href="https://github.com/TianRandai111/buxunxian/blob/master/Day5/LivingExample-9/main.go" target="_blank" rel="noopener">代码位置: Day5/LivingExample-9/main.go</a></li>
</ul>
</li>
<li><p>2.7 多重继承</p>
<ul>
<li>2.7.1 如果一个<code>struct</code>嵌套了多个匿名结构体，那么这个结构可以直接访问多个匿名结构体的方法，从而实现了多重继承。</li>
</ul>
</li>
<li><p>2.8 实现<code>String()</code></p>
<ul>
<li>2.8.1 如果一个变量实现了<code>String()</code>这个方法，那么fmt.Println默认会调用这个变量的<code>String()</code>进行输出。</li>
</ul>
</li>
</ul>
<h3 id="3-作业"><a href="#3-作业" class="headerlink" title="3. 作业"></a>3. 作业</h3><p><a id="5-4">3. 作业</a></p>
<ul>
<li><ol>
<li>实现一个图书管理系统，具有以下功能：<ul>
<li>a. 书籍录入功能，书籍信息包括书名、副本数、作者、出版日期</li>
<li>b. 书籍查询功能，按照书名、作者、出版日期等条件检索</li>
<li>c. 学生信息管理功能，管理每个学生的姓名、年级、身份证、性别、借了什么书等信息</li>
<li>d. 借书功能，学生可以查询想要的书籍，进行借出</li>
<li>e. 书籍管理功能，可以看到每种书被哪些人借出了</li>
</ul>
</li>
</ol>
</li>
</ul>
<h2 id="Day-6-接口、反射"><a href="#Day-6-接口、反射" class="headerlink" title="Day-6 接口、反射"></a>Day-6 接口、反射</h2><p><a id="6">Day-6 接口、反射</a></p>
<p><a href="#6-1">1.接口</a></p>
<p><a href="#6-2">2.反射</a></p>
<p><a href="#6-3">3.作业</a></p>
<p><a id="6-1">1.接口</a></p>
<h3 id="1-接口"><a href="#1-接口" class="headerlink" title="1. 接口"></a>1. 接口</h3><p><a id="6-1">1. 接口</a></p>
<ul>
<li><p>1.1. 定义</p>
<ul>
<li>1.1.1 Interface类型可以定义一组方法，但是这些不需要实现。并且interface不能包含任何变量。</li>
</ul>
</li>
<li><p>1.2 接口声明  </p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> example <span class="keyword">interface</span>&#123;</span><br><span class="line"></span><br><span class="line">        Method1(参数列表) 返回值列表</span><br><span class="line">        Method2(参数列表) 返回值列表</span><br><span class="line">        …</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>1.3. interface类型默认是一个指针</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> example <span class="keyword">interface</span>&#123;</span><br><span class="line"></span><br><span class="line">        Method1(参数列表) 返回值列表</span><br><span class="line">        Method2(参数列表) 返回值列表</span><br><span class="line">        …</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a example</span><br><span class="line">a.Method1()</span><br></pre></td></tr></table></figure>
</li>
<li><p>1.4. 接口实现</p>
<ul>
<li>1.5.1. Golang中的接口，不需要显示的实现。只要一个变量，含有接口类型中的所有方法，那么这个变量就实现这个接口。因此，golang中没有implement类似的关键字</li>
<li>1.5.2. 如果一个变量含有了多个interface类型的方法，那么这个变量就实现了多个接口。</li>
<li>1.5.3. 如果一个变量只含有了1个interface的方部分方法，那么这个变量没有实现这个接口。</li>
</ul>
</li>
<li><p>1.5 多态</p>
<ul>
<li>一种事物的多种形态，都可以按照统一的接口进行操作</li>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day6/LivingExample-1/main.go" target="_blank" rel="noopener">代码位置: Day6/LivingExample-1/main.go</a></li>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day6/LivingExample-2/main.go" target="_blank" rel="noopener">代码位置: Day6/LivingExample-2/main.go</a></li>
</ul>
</li>
</ul>
<ul>
<li><p>1.6. 接口嵌套</p>
<ul>
<li>一个接口可以嵌套在另外的接口，如下所示：<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> ReadWrite <span class="keyword">interface</span> &#123;</span><br><span class="line">            Read(b Buffer) <span class="keyword">bool</span></span><br><span class="line">            Write(b Buffer) <span class="keyword">bool</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">type</span> Lock <span class="keyword">interface</span> &#123;</span><br><span class="line">            Lock()</span><br><span class="line">            Unlock() </span><br><span class="line">&#125; </span><br><span class="line"><span class="keyword">type</span> File <span class="keyword">interface</span> &#123;</span><br><span class="line">            ReadWrite</span><br><span class="line">            Lock </span><br><span class="line">            Close() </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>1.7. 类型断言，由于接口是一般类型，不知道具体类型，如果要转成具体类型</p>
<ul>
<li>可以采用以下方法进行转换：<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> t <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> x <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">x = t</span><br><span class="line">y = x.(<span class="keyword">int</span>)   <span class="comment">//转成int</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> t <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> x <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">x = t</span><br><span class="line">y, ok = x.(<span class="keyword">int</span>)   <span class="comment">//转成int，带检查</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>1.8. 练习，写一个函数判断传入参数的类型</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> <span class="function"><span class="keyword">func</span> <span class="title">classifier</span><span class="params">(items ...<span class="keyword">interface</span>&#123;&#125;)</span></span> &#123;</span><br><span class="line">          <span class="keyword">for</span> i, x := <span class="keyword">range</span> items &#123; </span><br><span class="line">                  <span class="keyword">switch</span> x.(<span class="keyword">type</span>) &#123;</span><br><span class="line">                    <span class="keyword">case</span> <span class="keyword">bool</span>:       fmt.Printf(“param #%d is a <span class="keyword">bool</span>\n”, i)</span><br><span class="line">                    <span class="keyword">case</span> <span class="keyword">float64</span>:    fmt.Printf(“param #%d is a <span class="keyword">float64</span>\n”, i)</span><br><span class="line">                    <span class="keyword">case</span> <span class="keyword">int</span>, <span class="keyword">int64</span>: fmt.Printf(“param #%d is an <span class="keyword">int</span>\n”, i)</span><br><span class="line">                    <span class="keyword">case</span> <span class="literal">nil</span>: fmt.Printf(“param #%d is <span class="literal">nil</span>\n”, i)</span><br><span class="line">                    <span class="keyword">case</span> <span class="keyword">string</span>: fmt.Printf(“param #%d is a <span class="keyword">string</span>\n”, i)</span><br><span class="line">                    <span class="keyword">default</span>: fmt.Printf(“param #%d’s <span class="keyword">type</span> is unknown\n”, i)</span><br><span class="line">            &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>1.9. 类型断言，采用type switch方式</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> t := areaIntf.(<span class="keyword">type</span>) &#123;</span><br><span class="line"><span class="keyword">case</span> *Square:</span><br><span class="line">    fmt.Printf(“Type Square %T with value %v\n”, t, t) </span><br><span class="line"><span class="keyword">case</span> *Circle:</span><br><span class="line">    fmt.Printf(“Type Circle %T with value %v\n”, t, t) </span><br><span class="line"><span class="keyword">case</span> <span class="keyword">float32</span>:</span><br><span class="line">    fmt.Printf(“Type <span class="keyword">float32</span> with value %v\n”, t)</span><br><span class="line"><span class="keyword">case</span> <span class="literal">nil</span>:</span><br><span class="line">    fmt.Println(“<span class="literal">nil</span> value: nothing to check?”) </span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    fmt.Printf(“Unexpected <span class="keyword">type</span> %T”, t)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day6/LivingExample-4/main.go" target="_blank" rel="noopener">代码位置: Day6/LivingExample-4main.go</a></li>
</ul>
</li>
<li><p>1.10. 16. <code>interface{}</code>，接口中一个方法也没有，所以任何类型都实现了空接口，也就是任何变量都可以赋值给空接口。</p>
<ul>
<li><p>1.10.1 空接口没有任何方法，所以所有类型都实现了空接口。</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">b  = a</span><br></pre></td></tr></table></figure>
</li>
<li><p>1.10.2 变量slice和接口slice之间赋值操作，for range</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a []<span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> b []<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line">b = a</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>1.11. 判断一个变量是否实现了指定接口</p>
<ul>
<li>判断一个变量是否实现了指定接口<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Stringer <span class="keyword">interface</span> &#123;</span><br><span class="line">        String() <span class="keyword">string</span> </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> v MyStruct</span><br><span class="line"><span class="keyword">if</span> sv, ok := v.(Stringer); ok &#123;</span><br><span class="line">    fmt.Printf(“v implements String(): %s\n”, sv.String()); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day6/LivingExample-3/main.go" target="_blank" rel="noopener">代码位置: Day6/LivingExample-3main.go</a></li>
</ul>
</li>
<li><p>1.12. 指针类型和值类型的区别</p>
</li>
<li><p>1.13. 实现一个通用的链表类</p>
<pre><code>- [代码位置: Day6/LivingExample-6main.go](https://github.com/TianRandai111/buxunxian/blob/master/Day6/LivingExample-6/main.go)
</code></pre></li>
<li>1.14. 实现一个负载均衡调度算法，支持随机、轮训等算法</li>
</ul>
<h3 id="2-反射"><a href="#2-反射" class="headerlink" title="2.反射"></a>2.反射</h3><p><a id="6-2">2.反射</a></p>
<ul>
<li>2.1. 反射：可以在运行时动态获取变量的相关信息Import (“reflect”)<ul>
<li>两个函数：</li>
<li>2.1.1. <code>reflect.TypeOf</code>，获取变量的类型，返回<code>reflect.Type</code>类型</li>
<li>2.1.2. <code>reflect.ValueOf</code>，获取变量的值，返回<code>reflect.Value</code>类型</li>
<li>2.1.3. <code>reflect.Value.Kind</code>，获取变量的类别，返回一个常量</li>
<li>2.1.4. <code>reflect.Value.Interface()</code>，转换成<code>interface{}</code>类型</li>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day6/LivingExample-6/main.go" target="_blank" rel="noopener">代码位置: Day6/LivingExample-6main.go</a></li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">—————          ————————————          ——————————————</span><br><span class="line">|变量|  &lt;----&gt; |interface&#123;&#125;|  &lt;----&gt; |Reflect.Value|</span><br><span class="line">—————          ————————————          ——————————————</span><br></pre></td></tr></table></figure>
<ul>
<li><p>2.2. reflect.Value.Kind()方法返回的常量</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">        Invalid Kind = <span class="literal">iota</span></span><br><span class="line">        Bool</span><br><span class="line">        Int</span><br><span class="line">        Int8</span><br><span class="line">        Int16</span><br><span class="line">        Int32</span><br><span class="line">        Int64</span><br><span class="line">        Uint</span><br><span class="line">        Uint8</span><br><span class="line">        Uint16</span><br><span class="line">        Uint32</span><br><span class="line">        Uint64</span><br><span class="line">        Uintptr</span><br><span class="line">        Float32</span><br><span class="line">        Float64</span><br><span class="line">        Complex64</span><br><span class="line">        Complex128</span><br><span class="line">        Array</span><br><span class="line">        Chan</span><br><span class="line">        Func</span><br><span class="line">        Interface</span><br><span class="line">        Map</span><br><span class="line">        Ptr</span><br><span class="line">        Slice</span><br><span class="line">        String</span><br><span class="line">        Struct</span><br><span class="line">        UnsafePointer</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.3. 练习：</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"reflect"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> x <span class="keyword">float64</span> = <span class="number">3.4</span></span><br><span class="line">    fmt.Println(<span class="string">"type:"</span>, reflect.TypeOf(x))</span><br><span class="line">    v := reflect.ValueOf(x)</span><br><span class="line">    fmt.Println(<span class="string">"value:"</span>, v)</span><br><span class="line">    fmt.Println(<span class="string">"type:"</span>, v.Type())</span><br><span class="line">    fmt.Println(<span class="string">"kind:"</span>, v.Kind())</span><br><span class="line">    fmt.Println(<span class="string">"value:"</span>, v.Float())</span><br><span class="line"></span><br><span class="line">    fmt.Println(v.Interface())</span><br><span class="line">    fmt.Printf(<span class="string">"value is %5.2e\n"</span>, v.Interface())</span><br><span class="line">    y := v.Interface().(<span class="keyword">float64</span>)</span><br><span class="line">    fmt.Println(y)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"reflect"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> x <span class="keyword">float64</span> = <span class="number">3.4</span></span><br><span class="line">    fmt.Println(<span class="string">"type:"</span>, reflect.TypeOf(x))</span><br><span class="line">    v := reflect.ValueOf(x)</span><br><span class="line">    fmt.Println(<span class="string">"value:"</span>, v)</span><br><span class="line">    fmt.Println(<span class="string">"type:"</span>, v.Type())</span><br><span class="line">    fmt.Println(<span class="string">"kind:"</span>, v.Kind())</span><br><span class="line">    fmt.Println(<span class="string">"value:"</span>, v.Float())</span><br><span class="line"></span><br><span class="line">    fmt.Println(v.Interface())</span><br><span class="line">    fmt.Printf(<span class="string">"value is %5.2e\n"</span>, v.Interface())</span><br><span class="line">    y := v.Interface().(<span class="keyword">float64</span>)</span><br><span class="line">    fmt.Println(y)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>2.4. 获取变量的值：</li>
</ul>
<p><code>reflect.ValueOf(x).Float()</code></p>
<p><code>reflect.ValueOf(x).Int()</code></p>
<p><code>reflect.ValueOf(x).String()</code></p>
<p><code>reflect.ValueOf(x).Bool()</code></p>
<ul>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day6/LivingExample-7/main.go" target="_blank" rel="noopener">代码位置: Day6/LivingExample-7main.go</a></li>
</ul>
<ul>
<li>2.5. 通过反射的来改变变量的值</li>
</ul>
<p><code>reflect.Value.SetXX</code>相关方法，比如:</p>
<p><code>reflect.Value.SetFloat()</code>，设置浮点数</p>
<p><code>reflect.Value.SetInt()</code>，设置整数</p>
<p><code>reflect.Value.SetString()</code>，设置字符串</p>
<ul>
<li><p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day6/LivingExample-8/main.go" target="_blank" rel="noopener">代码位置: Day6/LivingExample-8main.go</a></p>
</li>
<li><p>2.6. 练习</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"reflect"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> a <span class="keyword">float64</span></span><br><span class="line">    fv := reflect.ValueOf(a)</span><br><span class="line">    fv.SetFloat(<span class="number">3.3</span>)</span><br><span class="line">    fmt.Printf(<span class="string">"%v\n"</span>, a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.7. 崩溃的原因</p>
<ul>
<li>还是值类型和引用类型的原因</li>
<li><code>v := reflect.ValueOf(x)</code></li>
<li>v是x的一个拷贝，修改v，x不会修改!</li>
</ul>
</li>
<li><p>2.8. 解决方法，传地址！</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"reflect"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> a <span class="keyword">float64</span></span><br><span class="line">    fv := reflect.ValueOf(&amp;a)</span><br><span class="line">    fv.Elem().SetFloat(<span class="number">3.3</span>)</span><br><span class="line">    fmt.Printf(<span class="string">"%v\n"</span>, a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<blockquote>
<p>其中fv.Elem()用来获取指针指向的变量，相当于： <code>var a *int;  *a = 100</code></p>
</blockquote>
<ul>
<li>2.9. 用反射操作结构体<ul>
<li>2.9.1. reflect.Value.NumField()获取结构体中字段的个数</li>
<li>2.9.2. reflect.Value.Method(n).Call来调用结构体中的方法</li>
</ul>
</li>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day6/LivingExample-9/main.go" target="_blank" rel="noopener">代码位置: Day6/LivingExample-9main.go</a></li>
</ul>
<ul>
<li>2.10. 练习</li>
</ul>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    “reflect<span class="string">"</span></span><br><span class="line"><span class="string">)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">type NotknownType struct &#123;</span></span><br><span class="line"><span class="string">    s1 string</span></span><br><span class="line"><span class="string">    s2 string</span></span><br><span class="line"><span class="string">    s3 string</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">func (n NotknownType) String() string &#123;</span></span><br><span class="line"><span class="string">    return n.s1 + "</span>-<span class="string">" + n.s2 + "</span>-<span class="string">" + n.s3</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">var secret interface&#123;&#125; = NotknownType&#123;"</span>Ada<span class="string">", "</span>Go<span class="string">", "</span>Oberon<span class="string">"&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">func main() &#123;</span></span><br><span class="line"><span class="string">    value := reflect.ValueOf(secret) // &lt;main.NotknownType Value&gt;</span></span><br><span class="line"><span class="string">    typ := reflect.TypeOf(secret)    // main.NotknownType</span></span><br><span class="line"><span class="string">    fmt.Println(typ)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    knd := value.Kind() // struct</span></span><br><span class="line"><span class="string">    fmt.Println(knd)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    for i := 0; i &lt; value.NumField(); i++ &#123;</span></span><br><span class="line"><span class="string">        fmt.Printf("</span>Field %d: %v\n<span class="string">", i, value.Field(i))</span></span><br><span class="line"><span class="string">        //value.Field(i).SetString("</span>C#<span class="string">")</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    results := value.Method(0).Call(nil)</span></span><br><span class="line"><span class="string">    fmt.Println(results) // [Ada - Go - Oberon]</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>2.11. 练习，通过反射操作结构体</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    “reflect<span class="string">"</span></span><br><span class="line"><span class="string">)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">type NotknownType struct &#123;</span></span><br><span class="line"><span class="string">    s1 string</span></span><br><span class="line"><span class="string">    s2 string</span></span><br><span class="line"><span class="string">    s3 string</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">func (n NotknownType) String() string &#123;</span></span><br><span class="line"><span class="string">    return n.s1 + "</span>-<span class="string">" + n.s2 + "</span>-<span class="string">" + n.s3</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">var secret interface&#123;&#125; = NotknownType&#123;"</span>Ada<span class="string">", "</span>Go<span class="string">", "</span>Oberon<span class="string">"&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">func main() &#123;</span></span><br><span class="line"><span class="string">    value := reflect.ValueOf(secret) // &lt;main.NotknownType Value&gt;</span></span><br><span class="line"><span class="string">    typ := reflect.TypeOf(secret)    // main.NotknownType</span></span><br><span class="line"><span class="string">    fmt.Println(typ)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    knd := value.Kind() // struct</span></span><br><span class="line"><span class="string">    fmt.Println(knd)</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    for i := 0; i &lt; value.NumField(); i++ &#123;</span></span><br><span class="line"><span class="string">        fmt.Printf("</span>Field %d: %v\n<span class="string">", i, value.Field(i))</span></span><br><span class="line"><span class="string">        //value.Field(i).SetString("</span>C#<span class="string">")</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    results := value.Method(0).Call(nil)</span></span><br><span class="line"><span class="string">    fmt.Println(results) // [Ada - Go - Oberon]</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>2.12. 练习2，通过反射修改结构体</p>
<figure class="highlight golang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"reflect"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> T <span class="keyword">struct</span> &#123;</span><br><span class="line">    A <span class="keyword">int</span></span><br><span class="line">    B <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    t := T&#123;<span class="number">23</span>, <span class="string">"skidoo"</span>&#125;</span><br><span class="line">    s := reflect.ValueOf(&amp;t).Elem()</span><br><span class="line">    typeOfT := s.Type()</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; s.NumField(); i++ &#123;</span><br><span class="line">        f := s.Field(i)</span><br><span class="line">        fmt.Printf(<span class="string">"%d: %s %s = %v\n"</span>, i,</span><br><span class="line">            typeOfT.Field(i).Name, f.Type(), f.Interface())</span><br><span class="line">    &#125;</span><br><span class="line">    s.Field(<span class="number">0</span>).SetInt(<span class="number">77</span>)</span><br><span class="line">    s.Field(<span class="number">1</span>).SetString(<span class="string">"Sunset Strip"</span>)</span><br><span class="line">    fmt.Println(<span class="string">"t is now"</span>, t)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="3-作业-1"><a href="#3-作业-1" class="headerlink" title="3.作业"></a>3.作业</h3><p><a id="6-2">3.作业</a></p>
<ul>
<li><ol>
<li>实现一个图书管理系统v2，具有以下功能：<ul>
<li>a. 增加用户登录、注册功能</li>
<li>b. 增加借书过期的图书界面</li>
<li>c. 增加显示热门图书的功能，被借次数最多的top10</li>
<li>d. 增加查看某个人的借书记录的功能</li>
</ul>
</li>
</ol>
</li>
</ul>
<h2 id="Day-7-终端读"><a href="#Day-7-终端读" class="headerlink" title="Day-7 终端读"></a>Day-7 终端读</h2><p><a id="#7">Day-7 终端读写</a></p>
<p><a href="#7-1">终端读写</a></p>
<p><a href="#7-2">文件读写</a></p>
<p><a href="#7-3">命令行参数处理</a></p>
<p><a href="#7-4">json协议</a></p>
<p><a href="#7-5">错误处理</a></p>
<h3 id="7-1-终端读写"><a href="#7-1-终端读写" class="headerlink" title="7.1 终端读写"></a>7.1 终端读写</h3><p><a id="7-1">Day-7 终端读写</a></p>
<ul>
<li><p>os.stdin</p>
</li>
<li><p>os.stdout</p>
<ul>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-1/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-1main.go</a></li>
</ul>
</li>
<li><p>os.stderr</p>
<ul>
<li><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-2/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-2main.go</a><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> (</span><br><span class="line">    firstName, lastName, s <span class="keyword">string</span></span><br><span class="line">    i                      <span class="keyword">int</span></span><br><span class="line">    f                      <span class="keyword">float32</span></span><br><span class="line">    input                  = <span class="string">"56.12 / 5212 / Go"</span></span><br><span class="line">    format                = <span class="string">"%f / %d / %s"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">"Please enter your full name: "</span>)</span><br><span class="line">    fmt.Scanln(&amp;firstName, &amp;lastName)</span><br><span class="line">    <span class="comment">// fmt.Scanf("%s %s", &amp;firstName, &amp;lastName)</span></span><br><span class="line">    fmt.Printf(<span class="string">"Hi %s %s!\n"</span>, firstName, lastName) <span class="comment">// Hi Chris Naegels</span></span><br><span class="line">    fmt.Sscanf(input, format, &amp;f, &amp;i, &amp;s)</span><br><span class="line">    fmt.Println(<span class="string">"From the string we read: "</span>, f, i, s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>缓冲区读写</p>
<ul>
<li><p>bufio</p>
<ul>
<li><p>标准输入读</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-3/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-3main.go</a></p>
</blockquote>
</li>
<li><p>文件中读</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-4/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-4main.go</a></p>
</blockquote>
</li>
<li><p>练习，从终端读取一行字符串，统计英文、数字、空格以及其他字符的数量。</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-4/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-4main.go</a></p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="7-2-文件读"><a href="#7-2-文件读" class="headerlink" title="7.2 文件读"></a>7.2 文件读</h3><p><a id="7-2">7.2 文件读写</a></p>
<ul>
<li><p>7.2.1 os.File封装所有文件相关操作，之前讲的 os.Stdin,os.Stdout, os.Stderr都是 os.File</p>
<ul>
<li>a 打开一个文件进行读操作： os.Open(name string) (*File, error)</li>
<li><p>b 关闭一个文件：File.Close()</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-5/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-5main.go</a></p>
</blockquote>
</li>
<li><p>复制文件内容(小文件)</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-6/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-6main.go</a></p>
</blockquote>
</li>
<li><p>读取*.gz压缩文件中的内容</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-7/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-7main.go</a></p>
</blockquote>
</li>
</ul>
</li>
<li><p>7.2.2 文件写入</p>
<ul>
<li><code>os.OpenFile(“output.dat”,  os.O_WRONLY|os.O_CREATE, 0666)</code></li>
<li>第二个参数：文件打开模式：<ul>
<li><ol>
<li><code>os.O_WRONLY</code>：只写</li>
</ol>
</li>
<li><ol start="2">
<li><code>os.O_CREATE</code>：创建文件</li>
</ol>
</li>
<li><ol start="3">
<li><code>os.O_RDONLY</code>：只读</li>
</ol>
</li>
<li><ol start="4">
<li><code>os.O_RDWR</code>：读写</li>
</ol>
</li>
<li><ol start="5">
<li><code>os.O_TRUNC</code>：清空</li>
</ol>
</li>
</ul>
</li>
<li>第三个参数：权限控制：<ul>
<li><code>r ——&gt; 004</code></li>
<li><code>w——&gt; 002</code></li>
<li><code>x——&gt; 001</code></li>
</ul>
</li>
</ul>
</li>
<li><p>7.2.3 写文件</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-8/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-8main.go</a></p>
</blockquote>
</li>
<li><p>7.2.4 文件拷贝</p>
</li>
</ul>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-9/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-9main.go</a></p>
</blockquote>
<h3 id="7-3-命令行参数处"><a href="#7-3-命令行参数处" class="headerlink" title="7.3 命令行参数处"></a>7.3 命令行参数处</h3><p><a id="7-3">7.3 命令行参数处理</a></p>
<ul>
<li><p>7.3.1 os.Args是一个string的切片，用来存储所有的命令行参数</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-10/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-10main.go</a></p>
</blockquote>
</li>
<li><p>7.3.2  flag包的使用，用来解析命令行参数：</p>
<ul>
<li><code>flag.BoolVar(&amp;test, &quot;b&quot;, false, &quot;print on newline&quot;)</code></li>
<li><code>flag.StringVar(&amp;str, &quot;s&quot;, &quot;&quot;, &quot;print on newline&quot;)</code></li>
<li><code>flag.IntVar(&amp;count, &quot;c&quot;, 1001, &quot;print on newline&quot;)</code><blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-11/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-11main.go</a></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="7-4-json协议"><a href="#7-4-json协议" class="headerlink" title="7.4 json协议"></a>7.4 json协议</h3><p><a id="7-4">7.4 json协议</a></p>
<p>(Golang) -序列化-&gt; (Json字符串) -网络传输-&gt; (程序) -反序列化-&gt; (其他语言)</p>
<ul>
<li><ol>
<li>导入包：<code>Import “encoding/json”</code></li>
</ol>
</li>
<li><ol start="2">
<li>序列化: <code>json.Marshal(data interface{})</code></li>
</ol>
</li>
<li><ol start="3">
<li>反序列化: <code>json.UnMarshal(data []byte,  v  interface{})</code></li>
</ol>
</li>
<li><p>练习序列化结构体</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-12/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-12main.go</a></p>
</blockquote>
</li>
<li><p>反序列化</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-13/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-13main.go</a></p>
</blockquote>
</li>
</ul>
<h3 id="7-5-错误处理"><a href="#7-5-错误处理" class="headerlink" title="7.5 错误处理"></a>7.5 错误处理</h3><p><a id="7-5">7.5 错误处理</a></p>
<ul>
<li><p>7.5.1. 定义错误</p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"errors"</span></span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> errNotFound error = errors.New(<span class="string">"Not found error"</span>)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    fmt.Printf(<span class="string">"error: %v"</span>, errNotFound)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.5.2 自定义错误</p>
</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> error <span class="keyword">interface</span> &#123; </span><br><span class="line">        Error() <span class="keyword">string</span> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>练习</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line"><span class="comment">//  "fmt"</span></span><br><span class="line">)</span><br><span class="line"><span class="keyword">type</span> PathError <span class="keyword">struct</span> &#123;</span><br><span class="line">    Op   <span class="keyword">string</span></span><br><span class="line">    Path <span class="keyword">string</span></span><br><span class="line">    err <span class="keyword">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(e *PathError)</span> <span class="title">Error</span><span class="params">()</span> <span class="title">string</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> e.Op + <span class="string">" "</span> + e.Path + <span class="string">": "</span> + e.Err.Error()</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span> <span class="title">error</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;PathError&#123;</span><br><span class="line">        Op:   <span class="string">"op"</span>,</span><br><span class="line">        Path: <span class="string">"path"</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    test()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-14/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-14main.go</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day7/LivingExample-15/main.go" target="_blank" rel="noopener">代码位置: Day7/LivingExample-15main.go</a></p>
</blockquote>
<h2 id="Day-8-并发与Chan"><a href="#Day-8-并发与Chan" class="headerlink" title="Day-8 并发与Chan"></a>Day-8 并发与Chan</h2><p><a id="8">Day-8 并发与Chan</a></p>
<p><a href="#8-1">Day-8.1 Goroute</a></p>
<p><a href="#8-2">Day-8.2 Channel</a></p>
<p><a href="#8-3">Day-8.3 单元测试</a></p>
<p><a href="#8-4">Day-8.4 课后作业</a></p>
<h3 id="8-1-Goroute"><a href="#8-1-Goroute" class="headerlink" title="8.1 Goroute"></a>8.1 Goroute</h3><p><a id="8-1">Day-8.1 Goroute</a></p>
<ul>
<li>1.进程和线程<ul>
<li>a.进程是程序在操作系统的一次执行过程，系统进行资源费配合调度的一个独立单位。</li>
<li>b.线程时进程的一个执行试题，是CPU调度和分派的基本单位，他是比集成更小的能独立运行的基本单位。</li>
<li>c.一个进程何以创建和撤销多个线程；同一个进程中的多个线程之间可以并发执行。</li>
</ul>
</li>
</ul>
<p>(进程) –&gt; (一个线程) –&gt; (单线程程序)</p>
<p>(进程) –&gt; (多个线程) –&gt; (多线程程序)</p>
<ul>
<li><p>2.并发和并行</p>
<ul>
<li>a.多线程程序在一个核上的cpu上运行，就是并发</li>
<li>b.多线程程序在多个核上的cpu上运行，就是并行</li>
</ul>
</li>
<li><p>3.协程和线程</p>
<ul>
<li>协程：独立的栈空间，共享的队空间，调度有用户自己控制，本质上有点类似用户级线程，这些用户级线程的调度也是自己实现的</li>
<li>线程: 一个线程可以跑多个协程，协程是轻量级的线程</li>
</ul>
</li>
</ul>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day8/LivingExample-1/main.go" target="_blank" rel="noopener">代码位置: Day8/LivingExample-1main.go</a></p>
</blockquote>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day8/LivingExample-2/main.go" target="_blank" rel="noopener">代码位置: Day8/LivingExample-2main.go</a></p>
<ul>
<li>4.gorouteine调度模型<ul>
<li>M:线程</li>
<li>P:上下文</li>
<li>G:协程</li>
</ul>
</li>
</ul>
</blockquote>
<p><strong>调度模型1</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">M       M</span><br><span class="line">|       |</span><br><span class="line">P--G    P--G</span><br><span class="line">|  |    |  |</span><br><span class="line">G  G    G  G</span><br><span class="line">   |       |</span><br><span class="line">   G       G</span><br></pre></td></tr></table></figure></p>
<p><strong>调度模型2</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">M1    M0   |   M1       M0</span><br><span class="line">      |    |   |        |</span><br><span class="line">      P--G |   P--G     G0</span><br><span class="line">      |  | |   |  |</span><br><span class="line">      G  G |   G  G</span><br><span class="line">      |    |   |</span><br><span class="line">      G    |   G</span><br></pre></td></tr></table></figure></p>
<ul>
<li>5.如何设置golang占用CPU</li>
</ul>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">pacakage main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"runtime"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    num := runtime.NumCPU()</span><br><span class="line">    runtime.GOMAXPROC(num)</span><br><span class="line">    fmt.Println(num)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day8/LivingExample-3/main.go" target="_blank" rel="noopener">代码位置: Day8/LivingExample-3main.go</a></p>
</blockquote>
<h3 id="8-2-Channel"><a href="#8-2-Channel" class="headerlink" title="8.2 Channel"></a>8.2 Channel</h3><p><a id="8-2">Day-8.2 Channel</a></p>
<ul>
<li><p>1.不同的goroutine之间是如何通信的</p>
<ul>
<li><p>a.全局变量  [需要加锁]</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day8/LivingExample-4/main.go" target="_blank" rel="noopener">代码位置: Day8/LivingExample-4main.go</a></p>
</blockquote>
</li>
<li><p>b.Channel</p>
<ul>
<li>a.类似unix中关掉</li>
<li>b.先进先出</li>
<li>c.线程安全，多个goroutine同时访问，不需要加锁</li>
<li><p>d.channel是有类型的，一个整数的channel只能存放整数</p>
</li>
<li><p>channel声明</p>
  <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> 变量名 <span class="keyword">chan</span> 类型</span><br><span class="line"><span class="keyword">var</span> test <span class="keyword">chan</span> <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> test <span class="keyword">chan</span> <span class="keyword">string</span></span><br><span class="line"><span class="keyword">var</span> test <span class="keyword">chan</span> <span class="keyword">map</span>[<span class="keyword">string</span>]<span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> test <span class="keyword">chan</span> <span class="keyword">interface</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day8/LivingExample-5/main.go" target="_blank" rel="noopener">代码位置: Day8/LivingExample-5main.go</a></p>
</blockquote>
</li>
<li><p>channel阻塞</p>
<ul>
<li>channel的值多余channel的长度时会产生channel阻塞，此时channel的长度只能接受对应长度的值，长于channel的值将会进入阻塞状态<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day8/LivingExample-6/main.go" target="_blank" rel="noopener">代码位置: Day8/LivingExample-6main.go</a></p>
</blockquote>
</li>
</ul>
</li>
<li><p>channel同步</p>
<ul>
<li><p>检查管道是否被关闭</p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day8/LivingExample-7/main.go" target="_blank" rel="noopener">代码位置: Day8/LivingExample-7main.go</a></p>
</blockquote>
</li>
<li><p>channel同步 </p>
<blockquote>
<p><a href="https://github.com/TianRandai111/buxunxian/blob/master/Day8/LivingExample-7/main.go" target="_blank" rel="noopener">代码位置: Day8/LivingExample-7main.go</a></p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="8-3-单元测试"><a href="#8-3-单元测试" class="headerlink" title="8.3 单元测试"></a>8.3 单元测试</h3><p><a id="8-3">Day-8.3 单元测试</a></p>
<h3 id="8-4-课后作业"><a href="#8-4-课后作业" class="headerlink" title="8.4 课后作业"></a>8.4 课后作业</h3><p><a id="8-4">Day-8.4 课后作业</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/golang/" rel="tag"># golang</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/12/25/系统运维/Centos Linux/Centos 7下安装使用ClamAV/" rel="next" title="Centos 7下安装使用ClamAV">
                <i class="fa fa-chevron-left"></i> Centos 7下安装使用ClamAV
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/12/25/Golang/Go技术随笔/golang 使用map处理多级json后输出map中的数组/" rel="prev" title="golang 使用map处理多级json后输出map中的数组">
                golang 使用map处理多级json后输出map中的数组 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/kyz.jpg" alt="步荀仙">
            
              <p class="site-author-name" itemprop="name">步荀仙</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">16</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">22</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">15</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Day-1笔记"><span class="nav-number">1.</span> <span class="nav-text">Day-1笔记</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Golang语言的特性"><span class="nav-number">1.1.</span> <span class="nav-text">Golang语言的特性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#高并发测试-一个测试"><span class="nav-number">1.2.</span> <span class="nav-text">高并发测试(一个测试)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#第一个golang程序"><span class="nav-number">1.3.</span> <span class="nav-text">第一个golang程序</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#包的概念"><span class="nav-number">1.4.</span> <span class="nav-text">包的概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#包的实战"><span class="nav-number">1.5.</span> <span class="nav-text">包的实战</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Day-2笔记"><span class="nav-number">2.</span> <span class="nav-text">Day-2笔记</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#第一部分：基本数据类型和操作符"><span class="nav-number">2.1.</span> <span class="nav-text">第一部分：基本数据类型和操作符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件名-amp-关键字-amp-标识符"><span class="nav-number">2.2.</span> <span class="nav-text">文件名&amp;关键字&amp;标识符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Go程序基本结"><span class="nav-number">2.3.</span> <span class="nav-text">Go程序基本结</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#常量和变量"><span class="nav-number">2.4.</span> <span class="nav-text">常量和变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#字符串类型"><span class="nav-number">2.5.</span> <span class="nav-text">字符串类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#函数的声明和注释"><span class="nav-number">2.6.</span> <span class="nav-text">函数的声明和注释</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#值类型和引用类型"><span class="nav-number">2.7.</span> <span class="nav-text">值类型和引用类型</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串处理包与函数"><span class="nav-number">3.</span> <span class="nav-text">字符串处理包与函数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#strings和strconv的使"><span class="nav-number">3.1.</span> <span class="nav-text">strings和strconv的使</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-Go中的时间和日期类型"><span class="nav-number">3.2.</span> <span class="nav-text">2. Go中的时间和日期类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-指针类型"><span class="nav-number">3.3.</span> <span class="nav-text">3. 指针类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-函数详解"><span class="nav-number">3.4.</span> <span class="nav-text">4. 函数详解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-课后作业"><span class="nav-number">3.5.</span> <span class="nav-text">5. 课后作业</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数组、切片、map、package介"><span class="nav-number">4.</span> <span class="nav-text">数组、切片、map、package介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-内置函数、递归函数、闭包"><span class="nav-number">4.1.</span> <span class="nav-text">1.内置函数、递归函数、闭包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-数组与切片"><span class="nav-number">4.2.</span> <span class="nav-text">2.数组与切片</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-map数组结构"><span class="nav-number">4.3.</span> <span class="nav-text">3.map数组结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-package介绍"><span class="nav-number">4.4.</span> <span class="nav-text">4.package介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-课后作业-1"><span class="nav-number">4.5.</span> <span class="nav-text">5.课后作业</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Day-5-结构体、方法、接口"><span class="nav-number">5.</span> <span class="nav-text">Day-5 结构体、方法、接口</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-结构体"><span class="nav-number">5.1.</span> <span class="nav-text">1.1 结构体</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-方法"><span class="nav-number">5.2.</span> <span class="nav-text">2. 方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-作业"><span class="nav-number">5.3.</span> <span class="nav-text">3. 作业</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Day-6-接口、反射"><span class="nav-number">6.</span> <span class="nav-text">Day-6 接口、反射</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-接口"><span class="nav-number">6.1.</span> <span class="nav-text">1. 接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-反射"><span class="nav-number">6.2.</span> <span class="nav-text">2.反射</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-作业-1"><span class="nav-number">6.3.</span> <span class="nav-text">3.作业</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Day-7-终端读"><span class="nav-number">7.</span> <span class="nav-text">Day-7 终端读</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#7-1-终端读写"><span class="nav-number">7.1.</span> <span class="nav-text">7.1 终端读写</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-2-文件读"><span class="nav-number">7.2.</span> <span class="nav-text">7.2 文件读</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-3-命令行参数处"><span class="nav-number">7.3.</span> <span class="nav-text">7.3 命令行参数处</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-4-json协议"><span class="nav-number">7.4.</span> <span class="nav-text">7.4 json协议</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-5-错误处理"><span class="nav-number">7.5.</span> <span class="nav-text">7.5 错误处理</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Day-8-并发与Chan"><span class="nav-number">8.</span> <span class="nav-text">Day-8 并发与Chan</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#8-1-Goroute"><span class="nav-number">8.1.</span> <span class="nav-text">8.1 Goroute</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-2-Channel"><span class="nav-number">8.2.</span> <span class="nav-text">8.2 Channel</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-3-单元测试"><span class="nav-number">8.3.</span> <span class="nav-text">8.3 单元测试</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-4-课后作业"><span class="nav-number">8.4.</span> <span class="nav-text">8.4 课后作业</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">步荀仙</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'bAurO2VRR5JU4OczVxDdlWLm-gzGzoHsz',
        appKey: 'Qc603moQXDN5RvchufQ1kSta',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("bAurO2VRR5JU4OczVxDdlWLm-gzGzoHsz", "Qc603moQXDN5RvchufQ1kSta");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
